# config/README.md本仓库包含了一系列为 zsh shell 环境定制的配置文件和脚本，旨在简化日常开发任务和优化命令行交互体验。## 文件结构├── README.md 本文├── mackup└── shell    ├── init.sh    ├── mac    │   ├── zprofile.sh    │   └── zshrc.sh    ├── zsh_aliases.sh    ├── zsh_completion    │   ├── _cheat    │   └── _rustup    ├── zsh_completion.sh    ├── zsh_env_private.sh # 你应该配置一个私人环境配置，这个配置不会上传    ├── zsh_env.sh    └── zsh_functions.sh## 1. 初始配置 (init.sh)init.sh 是主初始化脚本，负责初始化 shell 环境，包括设置基本的环境变量、定义自定义函数、别名、补全路径和其他环境变量。### 使用方法1. 将 init.sh 文件放到 $HOME/dotfiles/config/shell/ 目录下。2. 在 ~/.zshrc 文件中添加以下代码以加载 init.sh 脚本：	```bash	source "$HOME"/dotfiles/config/shell/init.sh	```3. 重新打开终端或执行 source ~/.zshrc 来应用新配置。## 2. 系统配置 (mac/zprofile.sh 和 mac/zshrc.sh)**`zprofile.sh`**此脚本主要用于配置系统环境和设置必要的环境变量。### 使用方法1. 将 `zprofile.sh` 脚本保存到系统中。2. 在终端中执行 source zprofile.sh 命令以应用脚本中的配置。**`zshrc.sh`**主配置文件，定义了系统环境变量和加载初始化脚本。### 使用方法1. 在 `~/.zshrc` 文件头部添加以下代码以加载主配置文件：	```	source "$HOME"/dotfiles/config/shell/init.sh	```2. 重新打开终端窗口或执行 source ~/.zshrc 来应用新配置。## 3. 别名和函数 (zsh_aliases.sh 和 zsh_functions.sh)`zsh_aliases.sh` 包含了一系列用于简化和美化命令行操作的 zsh 别名和函数。而 `zsh_functions.sh` 包含了一系列用于简化日常任务和增强 ZSH 交互功能的函数。### 使用方法将这些脚本的内容复制到您的 zsh 配置文件（如 ~/.zshrc）中，保存并运行 source ~/.zshrc 使配置生效。## 4. 自动补全 (zsh_completion.sh)此脚本用于配置 ZSH 的自动补全功能。### 使用方法将 zsh_completion.sh 脚本内容复制到您的 zsh 配置文件（如 ~/.zshrc）中，保存并运行 source ~/.zshrc 使配置生效。## 5. 环境变量和主题 (zsh_env.sh)此脚本用于配置 zsh 的相关设置，包括环境变量、插件、主题和自定义键绑定等。### 使用方法将 zsh_env.sh 脚本内容复制到您的 zsh 配置文件（如 ~/.zshrc）中，保存并运行 source ~/.zshrc 使配置生效。## 注意事项本配置主要针对 MacOS, Linux 和 Windows (MSYS) 系统。确保系统中已经安装了 Homebrew。## 结束语通过以上配置和脚本，你可以极大地提升你的命令行使用体验。享受你的命令行之旅！---# 各文件解读## zprofile.sh本脚本 `zprofile.sh` 主要用于配置系统环境，并设置必要的环境变量。具体内容如下：1. **获取系统架构信息**：    - 利用 `uname -m` 命令获取系统架构信息，存储在 `SYSTEM_ARCH` 变量中。2. **设置系统类型**：    - 根据操作系统类型和架构信息，设置 `SYSTEM_TYPE` 变量，以区分不同的系统和架构。3. **导出系统类型**：    - 导出 `SYSTEM_TYPE` 环境变量，以便其他脚本或程序使用。4. **评估 Homebrew Shell 环境**：    - 根据不同的系统类型和架构，评估 Homebrew 的 shell 环境。5. **导出二进制文件路径**：    - 更新 `PATH` 环境变量，将 Homebrew, pipx 以及其他二进制文件的路径添加到 `PATH` 中。### 使用方法1. 将 `zprofile.sh` 脚本保存到你的系统中。2. 在终端中运行 `source zprofile.sh` 命令，以应用脚本中的配置。### 注意事项- 本脚本主要针对 MacOS, Linux 和 Windows (MSYS) 系统。- 请确保你的系统中已经安装了 Homebrew。## zshrc.sh- `zshrc.sh`: 主配置文件，定义了系统环境变量和加载初始化脚本。### 使用方法在你的`~/.zshrc`文件头部加上下面这行代码来加载主配置文件：    ```bash    source "$HOME"/dotfiles/config/shell/init.sh    ```	打开一个新的终端窗口或者在当前终端执行`source ~/.zshrc`来应用新的配置。## init.sh此文档主要介绍`init.sh`脚本的功能及其结构。`init.sh`脚本主要用于初始化 shell 环境，定义了一些自定义函数、别名、补全路径和环境变量。该脚本也包含了一些用于分析 zsh 启动和执行时间的选项。### 文件结构- `init.sh`：主初始化脚本，包含了以下几个部分：  - **初始化**：设置基本的环境变量，如`RED`用于设置红色文本格式，`_INIT_SH_LOADED`用于避免脚本被重复加载，`ZSH_CUSTOM`用于设置 Oh My Zsh 的自定义目录路径。  - **自定义补全**：设置 zsh 的补全路径，包括 Homebrew 的补全、自定义补全和 Oh My Zsh 补全插件的路径。  - **环境变量**：根据系统类型和架构加载对应的环境变量和函数。  - **zprof**：可选的 zsh 启动分析，用于分析 zsh 的启动和执行时间。### 使用方法1. 将 `init.sh` 文件放到你的 `$HOME/dotfiles/config/shell/` 目录下。2. 在你的 `~/.zshrc` 文件中加上下面这行代码来加载 `init.sh` 脚本：    ```bash    source "$HOME"/dotfiles/config/shell/init.sh    ```3. 打开一个新的终端窗口或者在当前终端执行 `source ~/.zshrc` 来应用新的配置。### 功能说明- **初始化**：  - `_INIT_SH_LOADED` 变量用于确保 `init.sh` 脚本不会被重复加载。  - `ZSH_CUSTOM` 用于设置 Oh My Zsh 的自定义目录路径。- **自定义补全**：  - 设置 zsh 的补全路径，包括 Homebrew 的补全、自定义补全和 Oh My Zsh 补全插件的路径。- **环境变量**：  - 根据系统类型和架构加载对应的环境变量和函数，例如加载特定的 shell 环境变量和函数。- **zprof**：  - zsh 启动分析功能可以帮助你了解 zsh 的启动和执行时间，以便进行优化。  ## zsh_aliases.sh 脚本说明此脚本包含了一系列的 zsh 别名和函数，用于简化和美化命令行操作。以下是脚本中一些主要部分的说明：### 别名（Aliases）- `x86_64` 和 `x86_64_run`: 在 ARM 架构的 Mac 上以 x86_64 架构运行 zsh。- `brow`: Homebrew 的简短别名，方便快速访问。- `cat` 替换为 `bat`: 使用 bat 命令替换传统的 cat 命令，为文本文件添加语法高亮等美化效果。### 复制与编辑（Copy and Edit）- `cwd`: 复制当前工作目录到剪贴板。- `ehost`: 快速编辑 `/etc/hosts` 文件。### 运行（Run）- `r-archivebox`: 快速启动 ArchiveBox 服务器。- `r-bb`: 打开 OpenBB 终端。### 更新与升级（Update and Upgrade）- `r-update`: 执行一系列更新命令，如更新 asdf 管理的软件、Homebrew cask 软件等。- `r-upgrade`: 执行一系列升级命令，如升级 asdf 插件、升级 asdf 本身等。这只是脚本中的一部分功能，您可以通过查看 `zsh_aliases.sh` 脚本来了解更多详细信息。## zsh_completion.sh本脚本 `zsh_completion.sh` 用于配置ZSH的自动补全功能，根据系统类型为 `mac_arm64` 或 `mac_x86_64` 设置不同的自动补全。以下是主要功能介绍：- **1password 自动补全**：  通过 `eval "$(op completion zsh)"` 和 `compdef _op op` 命令配置1password的自动补全功能。- **cz 自动补全**：  通过 `eval "$(register-python-argcomplete cz)"` 命令配置cz的自动补全功能。- **pipx 自动补全**：  通过 `eval "$(register-python-argcomplete pipx)"` 命令配置pipx的自动补全功能。确保在使用自定义的compinit设置和ZSH框架时，将compinit配置在框架源代码之后，以确保脚本正确执行。## zsh_env.sh本脚本用于配置 zsh 的相关设置，包括环境变量、插件、主题和自定义键绑定等。### 主要内容1. **Fig 预块和后块**:    - 用于在 zsh 配置文件的顶部和底部插入 Fig 的相关配置。  2. **GPG 签名**:    - 配置 GPG 签名。3. **oh-my-zsh 初始化**:    - 初始化 oh-my-zsh，设置 zsh 的插件和主题。4. **zsh 主题**:    - 根据是否在 SSH 连接中来决定是否执行 starship 初始化。5. **zsh-vi-mode 配置**:    - 配置 zsh 的 vi 模式。6. **插件设置**:    - 设置需要的 zsh 插件，例如 `forgit`, `git-open`, `zsh-autosuggestions` 等。7. **语言环境设置**:    - 设置语言环境为 `en_US.UTF-8`。8. **历史记录设置**:    - 配置历史记录的时间戳格式和大小。9. **自定义键绑定**:    - 配置 fzf 和其他自定义键绑定。### 使用将 `zsh_completion.sh` 脚本内容复制到您的 zsh 配置文件（如 `~/.zshrc`）中，保存并运行 `source ~/.zshrc` 使配置生效。## zsh_functions.sh脚本使用说明本脚本包含多个用于简化日常任务和增强ZSH交互功能的函数。### 1Password 函数- `opon`: 登录1Password。- `opoff`: 登出1Password。- `getkey`: 获取并添加私钥到ssh-agent。- `remkey`: 移除所有私钥。### sudo Ctrl-S 函数- `sudo-command-line`: 切换sudo前缀。### Git 函数- `getrepo`: 克隆仓库并切换到仓库目录。### fzf 函数- `fzf-dirs-widget`: 使用fzf选择并切换到最近的目录。- `_fzf_comprun`: fzf命令运行与预览。- `fch`: 使用fzf查看和打开浏览器历史记录。- `fcb`: 使用fzf查看和打开浏览器书签。- `fkill`: 使用fzf选择并杀死进程。### tmux 函数- `tm`: tmux会话切换或创建。- `tmkill`: 杀死tmux会话。### cd 函数- `cd`: 通过fzf交互式选择目录进行切换。### xbin 函数- `xbin`: 使用xbin运行命令。### hgpt 和 dgpt 函数- `hgpt` 和 `dgpt`: 使用hgpt和dgpt与AI交互。