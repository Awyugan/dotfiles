var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e,t){return Object.keys(t).forEach(function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),e}function n(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var r={},i={},o=e.parcelRequire6c94;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},e.parcelRequire6c94=o),o.register("cVm5l",function(t,n){self,t.exports=(()=>{var r={227:(e,t,n)=>{let r;var i=n(155);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(447)(t);let{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},447:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;let r=Number(new Date),i=r-(n||r);a.diff=i,a.prev=n,a.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;let i=t.formatters[r];if("function"==typeof i){let t=e[o];n=i.call(a,t),e.splice(o,1),o--}return n}),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){let r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let n,r;if("*"===e[e.length-1])return!0;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},856:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e,r,i){return(n=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(e,i));return r&&t(o,r.prototype),o}:Reflect.construct).apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o,s=Object.hasOwnProperty,a=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,d=Object.freeze,h=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,m=p.apply,g=p.construct;m||(m=function(e,t,n){return e.apply(t,n)}),d||(d=function(e){return e}),h||(h=function(e){return e}),g||(g=function(e,t){return n(e,r(t))});var v=T(Array.prototype.forEach),_=T(Array.prototype.pop),y=T(Array.prototype.push),b=T(String.prototype.toLowerCase),w=T(String.prototype.match),E=T(String.prototype.replace),C=T(String.prototype.indexOf),x=T(String.prototype.trim),A=T(RegExp.prototype.test),O=(o=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(o,t)});function T(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return m(e,t,r)}}function k(e,t){a&&a(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=b(r);i!==r&&(l(t)||(t[n]=i),r=i)}e[r]=!0}return e}function S(e){var t,n=f(null);for(t in e)m(s,e,[t])&&(n[t]=e[t]);return n}function L(e,t){for(;null!==e;){var n=u(e,t);if(n){if(n.get)return T(n.get);if("function"==typeof n.value)return T(n.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var I=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),j=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),$=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=d(["#text"]),F=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),R=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=h(/<%[\w\W]*|[\w\W]*%>/gm),q=h(/^data-[\-\w.\u00B7-\uFFFF]/),W=h(/^aria-[\-\w]+$/),V=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=h(/^(?:\w+script|data):/i),J=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=h(/^html$/i),Y=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=function(e){return t(e)};if(i.version="2.3.8",i.removed=[],!n||!n.document||9!==n.document.nodeType)return i.isSupported=!1,i;var o=n.document,s=n.document,a=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,u=n.Element,h=n.NodeFilter,f=n.NamedNodeMap,p=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,m=n.HTMLFormElement,g=n.DOMParser,T=n.trustedTypes,Q=u.prototype,X=L(Q,"cloneNode"),Z=L(Q,"nextSibling"),ee=L(Q,"childNodes"),et=L(Q,"parentNode");if("function"==typeof l){var en=s.createElement("template");en.content&&en.content.ownerDocument&&(s=en.content.ownerDocument)}var er=Y(T,o),ei=er?er.createHTML(""):"",eo=s,es=eo.implementation,ea=eo.createNodeIterator,el=eo.createDocumentFragment,ec=eo.getElementsByTagName,eu=o.importNode,ed={};try{ed=S(s).documentMode?s.documentMode:{}}catch(e){}var eh={};i.isSupported="function"==typeof et&&es&&void 0!==es.createHTMLDocument&&9!==ed;var ef,ep,em=V,eg=null,ev=k({},[].concat(r(I),r(j),r(N),r(D),r(P))),e_=null,ey=k({},[].concat(r(F),r(R),r(U),r(z))),eb=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ew=null,eE=null,eC=!0,ex=!0,eA=!1,eO=!1,eT=!1,ek=!1,eS=!1,eL=!1,eI=!1,ej=!1,eN=!0,eM=!0,eD=!1,e$={},eP=null,eF=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eR=null,eU=k({},["audio","video","img","source","image","track"]),ez=null,eB=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eH="http://www.w3.org/1998/Math/MathML",eq="http://www.w3.org/2000/svg",eW="http://www.w3.org/1999/xhtml",eV=eW,eG=!1,eJ=["application/xhtml+xml","text/html"],eK=null,eY=s.createElement("form"),eQ=function(e){return e instanceof RegExp||e instanceof Function},eX=function(t){eK&&eK===t||(t&&"object"===e(t)||(t={}),eg="ALLOWED_TAGS"in(t=S(t))?k({},t.ALLOWED_TAGS):ev,e_="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR):ey,ez="ADD_URI_SAFE_ATTR"in t?k(S(eB),t.ADD_URI_SAFE_ATTR):eB,eR="ADD_DATA_URI_TAGS"in t?k(S(eU),t.ADD_DATA_URI_TAGS):eU,eP="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS):eF,ew="FORBID_TAGS"in t?k({},t.FORBID_TAGS):{},eE="FORBID_ATTR"in t?k({},t.FORBID_ATTR):{},e$="USE_PROFILES"in t&&t.USE_PROFILES,eC=!1!==t.ALLOW_ARIA_ATTR,ex=!1!==t.ALLOW_DATA_ATTR,eA=t.ALLOW_UNKNOWN_PROTOCOLS||!1,eO=t.SAFE_FOR_TEMPLATES||!1,eT=t.WHOLE_DOCUMENT||!1,eL=t.RETURN_DOM||!1,eI=t.RETURN_DOM_FRAGMENT||!1,ej=t.RETURN_TRUSTED_TYPE||!1,eS=t.FORCE_BODY||!1,eN=!1!==t.SANITIZE_DOM,eM=!1!==t.KEEP_CONTENT,eD=t.IN_PLACE||!1,em=t.ALLOWED_URI_REGEXP||em,eV=t.NAMESPACE||eW,t.CUSTOM_ELEMENT_HANDLING&&eQ(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eb.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&eQ(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eb.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eb.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ep="application/xhtml+xml"===(ef=ef=-1===eJ.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?function(e){return e}:b,eO&&(ex=!1),eI&&(eL=!0),e$&&(eg=k({},r(P)),e_=[],!0===e$.html&&(k(eg,I),k(e_,F)),!0===e$.svg&&(k(eg,j),k(e_,R),k(e_,z)),!0===e$.svgFilters&&(k(eg,N),k(e_,R),k(e_,z)),!0===e$.mathMl&&(k(eg,D),k(e_,U),k(e_,z))),t.ADD_TAGS&&(eg===ev&&(eg=S(eg)),k(eg,t.ADD_TAGS)),t.ADD_ATTR&&(e_===ey&&(e_=S(e_)),k(e_,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&k(ez,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(eP===eF&&(eP=S(eP)),k(eP,t.FORBID_CONTENTS)),eM&&(eg["#text"]=!0),eT&&k(eg,["html","head","body"]),eg.table&&(k(eg,["tbody"]),delete ew.tbody),d&&d(t),eK=t)},eZ=k({},["mi","mo","mn","ms","mtext"]),e0=k({},["foreignobject","desc","title","annotation-xml"]),e1=k({},["title","style","font","a","script"]),e3=k({},j);k(e3,N),k(e3,M);var e2=k({},D);k(e2,$);var e9=function(e){var t=et(e);t&&t.tagName||(t={namespaceURI:eW,tagName:"template"});var n=b(e.tagName),r=b(t.tagName);return e.namespaceURI===eq?t.namespaceURI===eW?"svg"===n:t.namespaceURI===eH?"svg"===n&&("annotation-xml"===r||eZ[r]):!!e3[n]:e.namespaceURI===eH?t.namespaceURI===eW?"math"===n:t.namespaceURI===eq?"math"===n&&e0[r]:!!e2[n]:e.namespaceURI===eW&&!(t.namespaceURI===eq&&!e0[r])&&!(t.namespaceURI===eH&&!eZ[r])&&!e2[n]&&(e1[n]||!e3[n])},e6=function(e){y(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ei}catch(t){e.remove()}}},e5=function(e,t){try{y(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){y(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!e_[e]){if(eL||eI)try{e6(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}},e4=function(e){if(eS)e="<remove></remove>"+e;else{var t,n,r=w(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ef&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=er?er.createHTML(e):e;if(eV===eW)try{t=(new g).parseFromString(i,ef)}catch(e){}if(!t||!t.documentElement){t=es.createDocument(eV,"template",null);try{t.documentElement.innerHTML=eG?"":i}catch(e){}}var o=t.body||t.documentElement;return e&&n&&o.insertBefore(s.createTextNode(n),o.childNodes[0]||null),eV===eW?ec.call(t,eT?"html":"body")[0]:eT?t.documentElement:o},e8=function(e){return ea.call(e.ownerDocument||e,e,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},e7=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},te=function(e,t,n){eh[e]&&v(eh[e],function(e){e.call(i,t,n,eK)})},tt=function(e){if(te("beforeSanitizeElements",e,null),e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)||A(/[\u0080-\uFFFF]/,e.nodeName))return e6(e),!0;var t,n=ep(e.nodeName);if(te("uponSanitizeElement",e,{tagName:n,allowedTags:eg}),e.hasChildNodes()&&!e7(e.firstElementChild)&&(!e7(e.content)||!e7(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent)||"select"===n&&A(/<template/i,e.innerHTML))return e6(e),!0;if(!eg[n]||ew[n]){if(!ew[n]&&tr(n)&&(eb.tagNameCheck instanceof RegExp&&A(eb.tagNameCheck,n)||eb.tagNameCheck instanceof Function&&eb.tagNameCheck(n)))return!1;if(eM&&!eP[n]){var r=et(e)||e.parentNode,o=ee(e)||e.childNodes;if(o&&r)for(var s=o.length-1;s>=0;--s)r.insertBefore(X(o[s],!0),Z(e))}return e6(e),!0}return e instanceof u&&!e9(e)?(e6(e),!0):("noscript"===n||"noembed"===n)&&A(/<\/no(script|embed)/i,e.innerHTML)?(e6(e),!0):(eO&&3===e.nodeType&&(t=E(t=e.textContent,B," "),t=E(t,H," "),e.textContent!==t&&(y(i.removed,{element:e.cloneNode()}),e.textContent=t)),te("afterSanitizeElements",e,null),!1)},tn=function(e,t,n){if(eN&&("id"===t||"name"===t)&&(n in s||n in eY))return!1;if(ex&&!eE[t]&&A(q,t));else if(eC&&A(W,t));else if(!e_[t]||eE[t]){if(!(tr(e)&&(eb.tagNameCheck instanceof RegExp&&A(eb.tagNameCheck,e)||eb.tagNameCheck instanceof Function&&eb.tagNameCheck(e))&&(eb.attributeNameCheck instanceof RegExp&&A(eb.attributeNameCheck,t)||eb.attributeNameCheck instanceof Function&&eb.attributeNameCheck(t))||"is"===t&&eb.allowCustomizedBuiltInElements&&(eb.tagNameCheck instanceof RegExp&&A(eb.tagNameCheck,n)||eb.tagNameCheck instanceof Function&&eb.tagNameCheck(n))))return!1}else if(ez[t]);else if(A(em,E(n,J,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==C(n,"data:")||!eR[e]){if(eA&&!A(G,E(n,J,"")));else if(n)return!1}return!0},tr=function(e){return e.indexOf("-")>0},ti=function(e){te("beforeSanitizeAttributes",e,null);var t,n,r,o,s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:e_};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(n="value"===c?t.value:x(t.value),r=ep(c),a.attrName=r,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,te("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(e5(c,e),a.keepAttr)){if(A(/\/>/i,n))e5(c,e);else if(eO&&(n=E(n,B," "),n=E(n,H," ")),tn(ep(e.nodeName),r,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),_(i.removed)}catch(e){}}}te("afterSanitizeAttributes",e,null)}},to=function e(t){var n,r=e8(t);for(te("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)te("uponSanitizeShadowNode",n,null),tt(n)||(n.content instanceof a&&e(n.content),ti(n));te("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(t,r){if((eG=!t)&&(t="<!-->"),"string"!=typeof t&&!e7(t)){if("function"!=typeof t.toString)throw O("toString is not a function");if("string"!=typeof(t=t.toString()))throw O("dirty is not a string, aborting")}if(!i.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(e7(t))return n.toStaticHTML(t.outerHTML)}return t}if(ek||eX(r),i.removed=[],"string"==typeof t&&(eD=!1),eD){if(t.nodeName){var s,l,u,d,h,f=ep(t.nodeName);if(!eg[f]||ew[f])throw O("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(l=(s=e4("<!---->")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!eL&&!eO&&!eT&&-1===t.indexOf("<"))return er&&ej?er.createHTML(t):t;if(!(s=e4(t)))return eL?null:ej?ei:""}s&&eS&&e6(s.firstChild);for(var p=e8(eD?t:s);u=p.nextNode();)3===u.nodeType&&u===d||tt(u)||(u.content instanceof a&&to(u.content),ti(u),d=u);if(d=null,eD)return t;if(eL){if(eI)for(h=el.call(s.ownerDocument);s.firstChild;)h.appendChild(s.firstChild);else h=s;return e_.shadowroot&&(h=eu.call(o,h,!0)),h}var m=eT?s.outerHTML:s.innerHTML;return eT&&eg["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&A(K,s.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+m),eO&&(m=E(m,B," "),m=E(m,H," ")),er&&ej?er.createHTML(m):m},i.setConfig=function(e){eX(e),ek=!0},i.clearConfig=function(){eK=null,ek=!1},i.isValidAttribute=function(e,t,n){return eK||eX({}),tn(ep(e),ep(t),n)},i.addHook=function(e,t){"function"==typeof t&&(eh[e]=eh[e]||[],y(eh[e],t))},i.removeHook=function(e){if(eh[e])return _(eh[e])},i.removeHooks=function(e){eh[e]&&(eh[e]=[])},i.removeAllHooks=function(){eh={}},i}()}()},729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var a=new i(r,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,s),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},824:e=>{function t(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}e.exports=function(e,n){n=n||{};var r,i,o=typeof e;if("string"===o&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===o&&isFinite(e))return n.long?(r=Math.abs(e))>=864e5?t(e,r,864e5,"day"):r>=36e5?t(e,r,36e5,"hour"):r>=6e4?t(e,r,6e4,"minute"):r>=1e3?t(e,r,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},520:(e,t,n)=>{"use strict";var r=n(155),i="win32"===r.platform,o=n(539);function s(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i))}return n}function a(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,u={};function d(e){var t=l.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",i=c.exec(r);return[n,i[1],i[2],i[3]]}function h(e){var t=l.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function f(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}u.resolve=function(){for(var e,t="",n="",i=!1,a=arguments.length-1;a>=-1;a--){if(a>=0?e=arguments[a]:t?(e=r.env["="+t])&&e.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(e=t+"\\"):e=r.cwd(),!o.isString(e))throw TypeError("Arguments to path.resolve must be strings");if(e){var l=h(e),c=l.device,u=l.isUnc,d=l.isAbsolute,p=l.tail;if((!c||!t||c.toLowerCase()===t.toLowerCase())&&(t||(t=c),i||(n=p+"\\"+n,i=d),t&&i))break}}return u&&(t=f(t)),t+(i?"\\":"")+(n=s(n.split(/[\\\/]+/),!i).join("\\"))||"."},u.normalize=function(e){var t=h(e),n=t.device,r=t.isUnc,i=t.isAbsolute,o=t.tail,a=/[\\\/]$/.test(o);return(o=s(o.split(/[\\\/]+/),!i).join("\\"))||i||(o="."),o&&a&&(o+="\\"),r&&(n=f(n)),n+(i?"\\":"")+o},u.isAbsolute=function(e){return h(e).isAbsolute},u.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!o.isString(n))throw TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),u.normalize(r)},u.relative=function(e,t){e=u.resolve(e),t=u.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),i=a(t.split("\\")),o=a(n.split("\\")),s=a(r.split("\\")),l=Math.min(o.length,s.length),c=l,d=0;d<l;d++)if(o[d]!==s[d]){c=d;break}if(0==c)return t;var h=[];for(d=c;d<o.length;d++)h.push("..");return(h=h.concat(i.slice(c))).join("\\")},u._makeLong=function(e){if(!o.isString(e))return e;if(!e)return"";var t=u.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},u.dirname=function(e){var t=d(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},u.basename=function(e,t){var n=d(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},u.extname=function(e){return d(e)[3]},u.format=function(e){if(!o.isObject(e))throw TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===u.sep?n+r:n+u.sep+r:r},u.parse=function(e){if(!o.isString(e))throw TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=d(e);if(!t||4!==t.length)throw TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},u.sep="\\",u.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,m={};function g(e){return p.exec(e).slice(1)}m.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:r.cwd();if(!o.isString(i))throw TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i[0])}return(t?"/":"")+(e=s(e.split("/"),!t).join("/"))||"."},m.normalize=function(e){var t=m.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=s(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},m.isAbsolute=function(e){return"/"===e.charAt(0)},m.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!o.isString(n))throw TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return m.normalize(e)},m.relative=function(e,t){e=m.resolve(e).substr(1),t=m.resolve(t).substr(1);for(var n=a(e.split("/")),r=a(t.split("/")),i=Math.min(n.length,r.length),o=i,s=0;s<i;s++)if(n[s]!==r[s]){o=s;break}var l=[];for(s=o;s<n.length;s++)l.push("..");return(l=l.concat(r.slice(o))).join("/")},m._makeLong=function(e){return e},m.dirname=function(e){var t=g(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},m.basename=function(e,t){var n=g(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},m.extname=function(e){return g(e)[3]},m.format=function(e){if(!o.isObject(e))throw TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+m.sep:"")+(e.base||"")},m.parse=function(e){if(!o.isString(e))throw TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=g(e);if(!t||4!==t.length)throw TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},m.sep="/",m.delimiter=":",e.exports=i?u:m,e.exports.posix=m,e.exports.win32=u},155:e=>{var t,n,r=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,l=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},539:(e,t,n)=>{var r=n(155),i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])m(l)||!b(l)?s+=" "+l:s+=" "+a(l);return s},t.deprecate=function(e,i){if(_(n.g.process))return function(){return t.deprecate(e,i).apply(this,arguments)};if(!0===r.noDeprecation)return e;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i,o,s=n.inspect(r,e);return v(s)||(s=u(e,s,r)),s}var a=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var l=Object.keys(n),c=(x={},l.forEach(function(e,t){x[e]=!0}),x);if(e.showHidden&&(l=Object.getOwnPropertyNames(n)),E(n)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return d(n);if(0===l.length){if(C(n)){var b=n.name?": "+n.name:"";return e.stylize("[Function"+b+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var x,A,O="",k=!1,S=["{","}"];return f(n)&&(k=!0,S=["[","]"]),C(n)&&(O=" [Function"+(n.name?": "+n.name:"")+"]"),y(n)&&(O=" "+RegExp.prototype.toString.call(n)),w(n)&&(O=" "+Date.prototype.toUTCString.call(n)),E(n)&&(O=" "+d(n)),0!==l.length||k&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),A=k?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}(e,n,r,c,l):l.map(function(t){return h(e,n,r,c,t,k)}),e.seen.pop(),i=O,o=S,A.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?o[0]+(""===i?"":i+"\n ")+" "+A.join(",\n  ")+" "+o[1]:o[0]+i+" "+A.join(", ")+" "+o[1]):S[0]+O+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),T(r,i)||(s="["+i+"]"),a||(0>e.seen.indexOf(l.value)?(a=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function y(e){return b(e)&&"[object RegExp]"===x(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===x(e)}function E(e){return b(e)&&("[object Error]"===x(e)||e instanceof Error)}function C(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(_(o)&&(o=r.env.NODE_DEBUG||""),!s[e=e.toUpperCase()]){if(RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){}}return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=y,t.isObject=b,t.isDate=w,t.isError=E,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(n=[A((e=new Date).getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":"),[e.getDate(),O[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(717),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";o.r(s),o.d(s,{LSPluginUser:()=>re,setupPluginUserInstance:()=>rt});var r,i,a,l,c,u,d,h=o(520);o(856);let f=function(e,t){return e===t||e!=e&&t!=t},p=function(e,t){for(var n=e.length;n--;)if(f(e[n][0],t))return n;return -1};var m=Array.prototype.splice;function g(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}g.prototype.clear=function(){this.__data__=[],this.size=0},g.prototype.delete=function(e){var t=this.__data__,n=p(t,e);return!(n<0)&&(n==t.length-1?t.pop():m.call(t,n,1),--this.size,!0)},g.prototype.get=function(e){var t=this.__data__,n=p(t,e);return n<0?void 0:t[n][1]},g.prototype.has=function(e){return p(this.__data__,e)>-1},g.prototype.set=function(e,t){var n=this.__data__,r=p(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};let v="object"==typeof e&&e&&e.Object===Object&&e;var _="object"==typeof self&&self&&self.Object===Object&&self;let y=v||_||Function("return this")(),b=y.Symbol;var w=Object.prototype,E=w.hasOwnProperty,C=w.toString,x=b?b.toStringTag:void 0;let A=function(e){var t=E.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var i=C.call(e);return r&&(t?e[x]=n:delete e[x]),i};var O=Object.prototype.toString,T=b?b.toStringTag:void 0;let k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?A(e):O.call(e)},S=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},L=function(e){if(!S(e))return!1;var t=k(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},I=y["__core-js_shared__"];var j,N=(j=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",M=Function.prototype.toString;let D=function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var $=/^\[object .+?Constructor\]$/,P=Object.prototype,F=Function.prototype.toString,R=P.hasOwnProperty,U=RegExp("^"+F.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let z=function(e,t){var n=null==e?void 0:e[t];return!(!S(n)||N&&N in n)&&(L(n)?U:$).test(D(n))?n:void 0},B=z(y,"Map"),H=z(Object,"create");var q=Object.prototype.hasOwnProperty,W=Object.prototype.hasOwnProperty;function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},V.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},V.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return q.call(t,e)?t[e]:void 0},V.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:W.call(t,e)},V.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this};let G=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},J=function(e,t){var n=e.__data__;return G(t)?n["string"==typeof t?"string":"hash"]:n.map};function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new g(e);this.size=t.size}K.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(B||g),string:new V}},K.prototype.delete=function(e){var t=J(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return J(this,e).get(e)},K.prototype.has=function(e){return J(this,e).has(e)},K.prototype.set=function(e,t){var n=J(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new g,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof g){var r=n.__data__;if(!B||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};let Q=function(){try{var e=z(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),X=function(e,t,n){"__proto__"==t&&Q?Q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Z=function(e,t,n){(void 0===n||f(e[t],n))&&(void 0!==n||t in e)||X(e,t,n)},ee=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[++r];if(!1===t(i[a],a,i))break}return e};var et=n&&!n.nodeType&&n,en=et&&t&&!t.nodeType&&t,er=en&&en.exports===et?y.Buffer:void 0,ei=er?er.allocUnsafe:void 0;let eo=function(e,t){if(t)return e.slice();var n=e.length,r=ei?ei(n):new e.constructor(n);return e.copy(r),r},es=y.Uint8Array,ea=function(e){var t=new e.constructor(e.byteLength);return new es(t).set(new es(e)),t},el=function(e,t){var n=t?ea(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},ec=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var eu=Object.create;let ed=function(){function e(){}return function(t){if(!S(t))return{};if(eu)return eu(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),eh=function(e,t){return function(n){return e(t(n))}},ef=eh(Object.getPrototypeOf,Object);var ep=Object.prototype;let em=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ep)},eg=function(e){return null!=e&&"object"==typeof e},ev=function(e){return eg(e)&&"[object Arguments]"==k(e)};var e_=Object.prototype,ey=e_.hasOwnProperty,eb=e_.propertyIsEnumerable;let ew=ev(function(){return arguments}())?ev:function(e){return eg(e)&&ey.call(e,"callee")&&!eb.call(e,"callee")},eE=Array.isArray,eC=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ex=function(e){return null!=e&&eC(e.length)&&!L(e)};var eA=n&&!n.nodeType&&n,eO=eA&&t&&!t.nodeType&&t,eT=eO&&eO.exports===eA?y.Buffer:void 0;let ek=(eT?eT.isBuffer:void 0)||function(){return!1};var eS=Object.prototype,eL=Function.prototype.toString,eI=eS.hasOwnProperty,ej=eL.call(Object);let eN=function(e){if(!eg(e)||"[object Object]"!=k(e))return!1;var t=ef(e);if(null===t)return!0;var n=eI.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eL.call(n)==ej};var eM={};eM["[object Float32Array]"]=eM["[object Float64Array]"]=eM["[object Int8Array]"]=eM["[object Int16Array]"]=eM["[object Int32Array]"]=eM["[object Uint8Array]"]=eM["[object Uint8ClampedArray]"]=eM["[object Uint16Array]"]=eM["[object Uint32Array]"]=!0,eM["[object Arguments]"]=eM["[object Array]"]=eM["[object ArrayBuffer]"]=eM["[object Boolean]"]=eM["[object DataView]"]=eM["[object Date]"]=eM["[object Error]"]=eM["[object Function]"]=eM["[object Map]"]=eM["[object Number]"]=eM["[object Object]"]=eM["[object RegExp]"]=eM["[object Set]"]=eM["[object String]"]=eM["[object WeakMap]"]=!1;var eD=n&&!n.nodeType&&n,e$=eD&&t&&!t.nodeType&&t,eP=e$&&e$.exports===eD&&v.process,eF=function(){try{return e$&&e$.require&&e$.require("util").types||eP&&eP.binding&&eP.binding("util")}catch(e){}}(),eR=eF&&eF.isTypedArray;let eU=eR?function(e){return eR(e)}:function(e){return eg(e)&&eC(e.length)&&!!eM[k(e)]},ez=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var eB=Object.prototype.hasOwnProperty;let eH=function(e,t,n){var r=e[t];eB.call(e,t)&&f(r,n)&&(void 0!==n||t in e)||X(e,t,n)},eq=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?X(n,a,l):eH(n,a,l)}return n},eW=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var eV=/^(?:0|[1-9]\d*)$/;let eG=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eV.test(e))&&e>-1&&e%1==0&&e<t};var eJ=Object.prototype.hasOwnProperty;let eK=function(e,t){var n=eE(e),r=!n&&ew(e),i=!n&&!r&&ek(e),o=!n&&!r&&!i&&eU(e),s=n||r||i||o,a=s?eW(e.length,String):[],l=a.length;for(var c in e)!t&&!eJ.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eG(c,l))||a.push(c);return a},eY=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var eQ=Object.prototype.hasOwnProperty;let eX=function(e){if(!S(e))return eY(e);var t=em(e),n=[];for(var r in e)("constructor"!=r||!t&&eQ.call(e,r))&&n.push(r);return n},eZ=function(e){return ex(e)?eK(e,!0):eX(e)},e0=function(e,t,n,r,i,o,s){var a=ez(e,n),l=ez(t,n),c=s.get(l);if(c)Z(e,n,c);else{var u=o?o(a,l,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=eE(l),f=!h&&ek(l),p=!h&&!f&&eU(l);u=l,h||f||p?eE(a)?u=a:eg(a)&&ex(a)?u=ec(a):f?(d=!1,u=eo(l,!0)):p?(d=!1,u=el(l,!0)):u=[]:eN(l)||ew(l)?(u=a,ew(a)?u=eq(a,eZ(a)):S(a)&&!L(a)||(u="function"!=typeof l.constructor||em(l)?{}:ed(ef(l)))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Z(e,n,u)}},e1=function e(t,n,r,i,o){t!==n&&ee(n,function(s,a){if(o||(o=new Y),S(s))e0(t,n,a,r,e,i,o);else{var l=i?i(ez(t,a),s,a+"",t,n,o):void 0;void 0===l&&(l=s),Z(t,a,l)}},eZ)},e3=function(e){return e},e2=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var e9=Math.max;let e6=Q?function(e,t){return Q(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:e3;var e5=Date.now;let e4=(a=0,l=0,function(){var e=e5(),t=16-(e-l);if(l=e,t>0){if(++a>=800)return arguments[0]}else a=0;return e6.apply(void 0,arguments)}),e8=function(e,t,n){if(!S(n))return!1;var r=typeof t;return!!("number"==r?ex(n)&&eG(t,n.length):"string"==r&&t in n)&&f(n[t],e)},e7=(c=function(e,t,n){e1(e,t,n)},e4((i=e9((i=void 0,(r=function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=c.length>3&&"function"==typeof i?(r--,i):void 0,o&&e8(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var s=t[n];s&&c(e,s,n,i)}return e}).length-1),0),function(){for(var e=arguments,t=-1,n=e9(e.length-i,0),o=Array(n);++t<n;)o[t]=e[i+t];t=-1;for(var s=Array(i+1);++t<i;)s[t]=e[t];return s[i]=e3(o),e2(r,this,s)}),r+""));var te=function(){return(te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tt(e){return e.toLowerCase()}var tn=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],tr=/[^A-Z0-9]+/gi;function ti(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}var to=o(729),ts=o.n(to);function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tl="win32"===navigator.platform.toLowerCase()?h.win32:h.posix,tc=function(e,t){var n;return void 0===t&&(t={}),void 0===(n=te({delimiter:"_"},t))&&(n={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=t.stripRegexp,i=t.transform,o=void 0===i?tt:i,s=t.delimiter,a=void 0===s?" ":s,l=ti(ti(e,void 0===n?tn:n,"$1\x00$2"),void 0===r?tr:r,"\x00"),c=0,u=l.length;"\x00"===l.charAt(c);)c++;for(;"\x00"===l.charAt(u-1);)u--;return l.slice(c,u).split("\x00").map(o).join(a)}(e,te({delimiter:"."},n))};class tu extends ts(){constructor(e,t){super(),ta(this,"_tag",void 0),ta(this,"_opts",void 0),ta(this,"_logs",[]),this._tag=e,this._opts=t}write(e,t,n){var r,i;null!=t&&t.length&&!0===t[t.length-1]&&(n=!0,t.pop());let o=t.reduce((e,t)=>(t&&t instanceof Error?e+=`${t.message} ${t.stack}`:e+=t.toString(),e),`[${this._tag}][${(new Date).toLocaleTimeString()}] `);this._logs.push([e,o]),(n||null!==(r=this._opts)&&void 0!==r&&r.console)&&(null===(i=console)||void 0===i||i["ERROR"===e?"error":"debug"](`${e}: ${o}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function td(e,t){let n,r,i=!1,o=t=>n=>{e&&clearTimeout(e),t(n),i=!0},s=new Promise((i,s)=>{n=o(i),r=o(s),e&&(e=setTimeout(()=>r(Error(`[deferred timeout] ${t}`)),e))});return{created:Date.now(),setTag:e=>t=e,resolve:n,reject:r,promise:s,get settled(){return i}}}let th=new Map;window.__injectedUIEffects=th;var tf=o(227),tp=o.n(tf);function tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tg="application/x-postmate-v1+json",tv=0,t_={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ty=(e,t)=>("string"!=typeof t||e.origin===t)&&!!e.data&&("object"!=typeof e.data||"postmate"in e.data)&&e.data.type===tg&&!!t_[e.data.postmate];class tb{constructor(e){tm(this,"parent",void 0),tm(this,"frame",void 0),tm(this,"child",void 0),tm(this,"events",{}),tm(this,"childOrigin",void 0),tm(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=e=>{if(!ty(e,this.childOrigin))return!1;let{data:t,name:n}=((e||{}).data||{}).value||{};"emit"===e.data.postmate&&n in this.events&&this.events[n].forEach(e=>{e.call(this,t)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...t){return new Promise(n=>{let r=++tv,i=e=>{e.data.uid===r&&"reply"===e.data.postmate&&(this.parent.removeEventListener("message",i,!1),n(e.data.value))};this.parent.addEventListener("message",i,!1),this.child.postMessage({postmate:"request",type:tg,property:e,args:t,uid:r},this.childOrigin)})}call(e,t){this.child.postMessage({postmate:"call",type:tg,property:e,data:t},this.childOrigin)}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class tw{constructor(e){tm(this,"model",void 0),tm(this,"parent",void 0),tm(this,"parentOrigin",void 0),tm(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",e=>{if(!ty(e,this.parentOrigin))return;let{property:t,uid:n,data:r,args:i}=e.data;"call"!==e.data.postmate?((e,t,n)=>{let r="function"==typeof e[t]?e[t].apply(null,n):e[t];return Promise.resolve(r)})(this.model,t,i).then(r=>{e.source.postMessage({property:t,postmate:"reply",type:tg,uid:n,value:r},e.origin)}):t in this.model&&"function"==typeof this.model[t]&&this.model[t](r)})}emit(e,t){this.parent.postMessage({postmate:"emit",type:tg,value:{name:e,data:t}},this.parentOrigin)}}class tE{constructor(e){tm(this,"container",void 0),tm(this,"parent",void 0),tm(this,"frame",void 0),tm(this,"child",void 0),tm(this,"childOrigin",void 0),tm(this,"url",void 0),tm(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){let t=(e=>{let t=document.createElement("a");t.href=e;let n=t.protocol.length>4?t.protocol:window.location.protocol,r=t.host.length?"80"===t.port||"443"===t.port?t.hostname:t.host:window.location.host;return t.origin||`${n}//${r}`})(e=e||this.url),n,r=0;return new Promise((i,o)=>{let s=e=>!!ty(e,t)&&("handshake-reply"===e.data.postmate?(clearInterval(n),this.parent.removeEventListener("message",s,!1),this.childOrigin=e.origin,i(new tb(this))):o("Failed handshake"));this.parent.addEventListener("message",s,!1);let a=()=>{r++,this.child.postMessage({postmate:"handshake",type:tg,model:this.model},t),5===r&&clearInterval(n)};this.frame.addEventListener("load",()=>{a(),n=setInterval(a,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}tm(tE,"debug",!1),tm(tE,"Model",void 0);class tC{constructor(e){tm(this,"child",void 0),tm(this,"model",void 0),tm(this,"parent",void 0),tm(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,t)=>{let n=r=>{if(r.data.postmate){if("handshake"===r.data.postmate){this.child.removeEventListener("message",n,!1),r.source.postMessage({postmate:"handshake-reply",type:tg},r.origin),this.parentOrigin=r.origin;let t=r.data.model;return t&&Object.keys(t).forEach(e=>{this.model[e]=t[e]}),e(new tw(this))}return t("Handshake Reply Failed")}};this.child.addEventListener("message",n,!1)})}}function tx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let{importHTML:tA,createSandboxContainer:tO}=window.QSandbox||{};function tT(e,t){return e.startsWith("http")?fetch(e,t):(e=e.replace("file://",""),new Promise(async(t,n)=>{try{let n=await window.apis.doAction(["readFile",e]);t({text:()=>n})}catch(e){console.error(e),n(e)}}))}class tk extends ts(){constructor(e){super(),tx(this,"_pluginLocal",void 0),tx(this,"_frame",void 0),tx(this,"_root",void 0),tx(this,"_loaded",!1),tx(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){let{name:e,entry:t}=this._pluginLocal.options;if(this.loaded||!t)return;let{template:n,execScripts:r}=await tA(t,{fetch:tT});this._mount(n,document.body);let i=tO(e,{elementGetter:()=>{var e;return null===(e=this._root)||void 0===e?void 0:e.firstChild}}).instance.proxy;i.__shadow_mode__=!0,i.LSPluginLocal=this._pluginLocal,i.LSPluginShadow=this,i.LSPluginUser=i.logseq=new re(this._pluginLocal.toJSON(),this._pluginLocal.caller);let o=await r(i,!0);this._unmountFns.push(o.unmount),this._loaded=!0}_mount(e,t){let n=this._frame=document.createElement("div");n.classList.add("lsp-shadow-sandbox"),n.id=this._pluginLocal.id,this._root=n.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,t.appendChild(n),this.emit("mounted")}_unmount(){for(let e of this._unmountFns)e&&e.call(null)}destroy(){var e,t;null===(e=this.frame)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return null===(e=this._root)||void 0===e?void 0:e.firstChild}get frame(){return this._frame}}function tS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tL=tp()("LSPlugin:caller"),tI="#await#response#",tj="#lspmsg#error#",tN=e=>`#lspmsg#${e}`;class tM extends ts(){constructor(e){super(),tS(this,"_pluginLocal",void 0),tS(this,"_connected",!1),tS(this,"_parent",void 0),tS(this,"_child",void 0),tS(this,"_shadow",void 0),tS(this,"_status",void 0),tS(this,"_userModel",{}),tS(this,"_call",void 0),tS(this,"_callUserModel",void 0),tS(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;let{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){var t;if(this._connected)return;let n=this,r=null!=this._pluginLocal,i=0,o=new Map,s=td(6e4),a=this._extendUserModel({"#lspmsg#ready#":async e=>{a[tN(null==e?void 0:e.pid)]=({type:e,payload:t})=>{tL(`[host (_call) -> *user] ${this._debugTag}`,e,t),n.emit(e,t)},await s.resolve()},"#lspmsg#beforeunload#":async e=>{let t=td(1e4);n.emit("beforeunload",Object.assign({actor:t},e)),await t.promise},"#lspmsg#settings#":async({type:e,payload:t})=>{n.emit("settings:changed",t)},"#lspmsg#":async({ns:e,type:t,payload:r})=>{tL(`[host (async) -> *user] ${this._debugTag} ns=${e} type=${t}`,r),e&&e.startsWith("hook")?n.emit(`${e}:${t}`,r):n.emit(t,r)},"#lspmsg#reply#":({_sync:e,result:t})=>{if(tL(`[sync host -> *user] #${e}`,t),o.has(e)){let n=o.get(e);n&&(null!=t&&t.hasOwnProperty(tj)?n.reject(t[tj]):n.resolve(t),o.delete(e))}},...e});if(r)return await s.promise,JSON.parse(JSON.stringify(null===(t=this._pluginLocal)||void 0===t?void 0:t.toJSON()));let l=new tC(a).sendHandshakeReply();return this._status="pending",await l.then(e=>{this._child=e,this._connected=!0,this._call=async(t,n={},r)=>{if(r){let e=++i;o.set(e,r),n._sync=e,r.setTag(`async call #${e}`),tL(`async call #${e}`)}return e.emit(tN(a.baseInfo.id),{type:t,payload:n}),null==r?void 0:r.promise},this._callUserModel=async(e,t)=>{try{a[e](t)}catch(t){tL(`[model method] #${e} not existed`)}},setInterval(()=>{if(o.size>100)for(let[e,t]of o)t.settled&&o.delete(e)},18e5)}).finally(()=>{this._status=void 0}),await s.promise,a.baseInfo}async call(e,t={}){var n;return null===(n=this._call)||void 0===n?void 0:n.call(this,e,t)}async callAsync(e,t={}){var n;let r=td(1e4);return null===(n=this._call)||void 0===n?void 0:n.call(this,e,t,r)}async callUserModel(e,...t){var n;return null===(n=this._callUserModel)||void 0===n?void 0:n.apply(this,[e,...t])}async callUserModelAsync(e,...t){var n;return e=`${tI}${e}`,null===(n=this._callUserModel)||void 0===n?void 0:n.apply(this,[e,...t])}async _setupIframeSandbox(){let e=this._pluginLocal,t=e.id,n=`${t}_lsp_main`,r=new URL(e.options.entry);r.searchParams.set("__v__",e.options.version);let i=document.querySelector(`#${n}`);i&&i.parentElement.removeChild(i);let o=document.createElement("div");o.classList.add("lsp-iframe-sandbox-container"),o.id=n,o.dataset.pid=t;try{var s;let e=null===(s=await this._pluginLocal._loadLayoutsData())||void 0===s?void 0:s.$$0;if(e){o.dataset.inited_layout="true";let{width:t,height:n,left:r,top:i,vw:s,vh:a}=e;r=Math.max(r,0),r="number"==typeof s?`${Math.min(100*r/s,99)}%`:`${r}px`,i=Math.max(i,45),i="number"==typeof a?`${Math.min(100*i/a,99)}%`:`${i}px`,Object.assign(o.style,{width:t+"px",height:n+"px",left:r,top:i})}}catch(e){console.error("[Restore Layout Error]",e)}document.body.appendChild(o);let a=new tE({id:t+"_iframe",container:o,url:r.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}}),l,c=a.sendHandshake();return this._status="pending",new Promise((t,n)=>{l=setTimeout(()=>{n(Error("handshake Timeout")),a.destroy()},4e3),c.then(n=>{this._parent=n,this._connected=!0,this.emit("connected"),n.on(tN(e.id),({type:e,payload:t})=>{var n,r;tL("[user -> *host] ",e,t),null===(n=this._pluginLocal)||void 0===n||n.emit(e,t||{}),null===(r=this._pluginLocal)||void 0===r||r.caller.emit(e,t||{})}),this._call=async(...t)=>{await n.call(tN(e.id),{type:t[0],payload:Object.assign(t[1]||{},{$$pid:e.id})})},this._callUserModel=async(e,...t)=>{if(e.startsWith(tI))return await n.get(e.replace(tI,""),...t);n.call(e,null==t?void 0:t[0])},t(null)}).catch(e=>{n(e)}).finally(()=>{clearTimeout(l)})}).catch(e=>{throw tL("[iframe sandbox] error",e),e}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){let e=this._pluginLocal,t=this._shadow=new tk(e);try{this._status="pending",await t.load(),this._connected=!0,this.emit("connected"),this._call=async(t,n={},r)=>{var i;return r&&(n.actor=r),null===(i=this._pluginLocal)||void 0===i||i.emit(t,Object.assign(n,{$$pid:e.id})),null==r?void 0:r.promise},this._callUserModel=async(...e)=>{var t;let n=e[0];null!==(t=n)&&void 0!==t&&t.startsWith(tI)&&(n=n.replace(tI,""));let r=e[1]||{},i=this._userModel[n];"function"==typeof i&&await i.call(null,r)}}catch(e){throw tL("[shadow sandbox] error",e),e}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return null===(e=this._parent)||void 0===e?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return null===(e=this._shadow)||void 0===e?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return null===(e=this._parent)||void 0===e?void 0:e.frame}_getSandboxShadowRoot(){var e;return null===(e=this._shadow)||void 0===e?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let t=null;this._parent&&(t=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(t=this._getSandboxShadowContainer(),this._shadow.destroy()),null===(e=t)||void 0===e||e.parentNode.removeChild(t)}}function tD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class t${constructor(e,t){tD(this,"ctx",void 0),tD(this,"opts",void 0),this.ctx=e,this.opts=t}get ctxId(){return this.ctx.baseInfo.id}setItem(e,t){var n;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,t,null===(n=this.opts)||void 0===n?void 0:n.assets]})}getItem(e){var t;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,null===(t=this.opts)||void 0===t?void 0:t.assets]})}removeItem(e){var t;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,null===(t=this.opts)||void 0===t?void 0:t.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,null===(e=this.opts)||void 0===e?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,null===(e=this.opts)||void 0===e?void 0:e.assets]})}hasItem(e){var t;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,null===(t=this.opts)||void 0===t?void 0:t.assets]})}}class tP{constructor(e){var t;t=void 0,"ctx"in this?Object.defineProperty(this,"ctx",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.ctx=t,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...t){var n,r;let i=this.ensureHostScope();return e=null===(n=tc(e))||void 0===n?void 0:n.toLowerCase(),null===(r=i.logseq.api["exper_"+e])||void 0===r?void 0:r.apply(i,t)}async loadScripts(...e){(e=e.map(e=>null!=e&&e.startsWith("http")?e:this.ctx.resolveResourceFullUrl(e))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,t){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,t)}registerExtensionsEnhancer(e,t){let n=this.ensureHostScope();return"katex"===e&&n.katex&&t(n.katex).catch(console.error),n.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,t)}ensureHostScope(){if(window===top)throw Error("Can not access host scope!");return top}}function tF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tR=e=>`task_callback_${e}`;class tU{constructor(e,t,n={}){tF(this,"_client",void 0),tF(this,"_requestId",void 0),tF(this,"_requestOptions",void 0),tF(this,"_promise",void 0),tF(this,"_aborted",!1),this._client=e,this._requestId=t,this._requestOptions=n,this._promise=new Promise((e,t)=>{if(!this._requestId)return t(null);this._client.once(tR(this._requestId),n=>{n&&n instanceof Error?t(n):e(n)})});let{success:r,fail:i,final:o}=this._requestOptions;this._promise.then(e=>{null==r||r(e)}).catch(e=>{null==i||i(e)}).finally(()=>{null==o||o()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class tz extends to.EventEmitter{constructor(e){super(),tF(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",e=>{let t=null==e?void 0:e.requestId;t&&this.emit(tR(t),null==e?void 0:e.payload)})}static createRequestTask(e,t,n){return new tU(e,t,n)}async _request(e){let t=this.ctx.baseInfo.id,{success:n,fail:r,final:i,...o}=e,s=this.ctx.Experiments.invokeExperMethod("request",t,o),a=tz.createRequestTask(this.ctx.Request,s,e);return o.abortable?a:a.promise}get ctx(){return this._ctx}}let tB=eh(Object.keys,Object);var tH=Object.prototype.hasOwnProperty;let tq=function(e){if(!em(e))return tB(e);var t=[];for(var n in Object(e))tH.call(e,n)&&"constructor"!=n&&t.push(n);return t},tW=function(e){return ex(e)?eK(e):tq(e)};function tV(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new K;++t<n;)this.add(e[t])}tV.prototype.add=tV.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},tV.prototype.has=function(e){return this.__data__.has(e)};let tG=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},tJ=function(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new tV:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],m=t[d];if(r)var g=s?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!tG(t,function(e,t){if(!f.has(t)&&(p===e||i(p,e,n,r,o)))return f.push(t)})){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},tK=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},tY=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var tQ=b?b.prototype:void 0,tX=tQ?tQ.valueOf:void 0;let tZ=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new es(e),new es(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=tK;case"[object Set]":var l=1&r;if(a||(a=tY),e.size!=t.size&&!l)break;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=tJ(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(tX)return tX.call(e)==tX.call(t)}return!1},t0=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},t1=function(e,t,n){var r=t(e);return eE(e)?r:t0(r,n(e))},t3=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};var t2=Object.prototype.propertyIsEnumerable,t9=Object.getOwnPropertySymbols;let t6=t9?function(e){return null==e?[]:t3(t9(e=Object(e)),function(t){return t2.call(e,t)})}:function(){return[]},t5=function(e){return t1(e,tW,t6)};var t4=Object.prototype.hasOwnProperty;let t8=function(e,t,n,r,i,o){var s=1&n,a=t5(e),l=a.length;if(l!=t5(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:t4.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var _=e.constructor,y=t.constructor;_==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f},t7=z(y,"DataView"),ne=z(y,"Promise"),nt=z(y,"Set"),nn=z(y,"WeakMap");var nr="[object Map]",ni="[object Promise]",no="[object Set]",ns="[object WeakMap]",na="[object DataView]",nl=D(t7),nc=D(B),nu=D(ne),nd=D(nt),nh=D(nn),nf=k;(t7&&nf(new t7(new ArrayBuffer(1)))!=na||B&&nf(new B)!=nr||ne&&nf(ne.resolve())!=ni||nt&&nf(new nt)!=no||nn&&nf(new nn)!=ns)&&(nf=function(e){var t=k(e),n="[object Object]"==t?e.constructor:void 0,r=n?D(n):"";if(r)switch(r){case nl:return na;case nc:return nr;case nu:return ni;case nd:return no;case nh:return ns}return t});let np=nf;var nm="[object Arguments]",ng="[object Array]",nv="[object Object]",n_=Object.prototype.hasOwnProperty;let ny=function(e,t,n,r,i,o){var s=eE(e),a=eE(t),l=s?ng:np(e),c=a?ng:np(t),u=(l=l==nm?nv:l)==nv,d=(c=c==nm?nv:c)==nv,h=l==c;if(h&&ek(e)){if(!ek(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Y),s||eU(e)?tJ(e,t,n,r,i,o):tZ(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&n_.call(e,"__wrapped__"),p=d&&n_.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Y),i(m,g,n,r,o)}}return!!h&&(o||(o=new Y),t8(e,t,n,r,i,o))},nb=function e(t,n,r,i,o){return t===n||(null!=t&&null!=n&&(eg(t)||eg(n))?ny(t,n,r,i,e,o):t!=t&&n!=n)},nw=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Y;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?nb(u,c,3,r,d):h))return!1}}return!0},nE=function(e){return e==e&&!S(e)},nC=function(e){for(var t=tW(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,nE(i)]}return t},nx=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},nA=function(e){var t=nC(e);return 1==t.length&&t[0][2]?nx(t[0][0],t[0][1]):function(n){return n===e||nw(n,e,t)}},nO=function(e){return"symbol"==typeof e||eg(e)&&"[object Symbol]"==k(e)};var nT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nk=/^\w*$/;let nS=function(e,t){if(eE(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!nO(e))||nk.test(e)||!nT.test(e)||null!=t&&e in Object(t)};function nL(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(nL.Cache||K),n}nL.Cache=K;var nI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nj=/\\(\\)?/g;let nN=(d=(u=nL(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(nI,function(e,n,r,i){t.push(r?i.replace(nj,"$1"):n||e)}),t},function(e){return 500===d.size&&d.clear(),e})).cache,u),nM=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var nD=b?b.prototype:void 0,n$=nD?nD.toString:void 0;let nP=function e(t){if("string"==typeof t)return t;if(eE(t))return nM(t,e)+"";if(nO(t))return n$?n$.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},nF=function(e,t){return eE(e)?e:nS(e,t)?[e]:nN(null==e?"":nP(e))},nR=function(e){if("string"==typeof e||nO(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},nU=function(e,t){for(var n=0,r=(t=nF(t,e)).length;null!=e&&n<r;)e=e[nR(t[n++])];return n&&n==r?e:void 0},nz=function(e,t,n){var r=null==e?void 0:nU(e,t);return void 0===r?n:r},nB=function(e,t){return null!=e&&t in Object(e)},nH=function(e,t,n){for(var r=-1,i=(t=nF(t,e)).length,o=!1;++r<i;){var s=nR(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&eC(i)&&eG(s,i)&&(eE(e)||ew(e))},nq=function(e){var t;return nS(e)?(t=nR(e),function(e){return null==e?void 0:e[t]}):function(t){return nU(t,e)}},nW=function(e){var t,n;return"function"==typeof e?e:null==e?e3:"object"==typeof e?eE(e)?(t=e[0],n=e[1],nS(t)&&nE(n)?nx(nR(t),n):function(e){var r=nz(e,t);return void 0===r&&r===n?null!=e&&nH(e,t,nB):nb(n,r,3)}):nA(e):nq(e)},nV=function(e,t){var n={};return t=nW(t,3),e&&ee(e,function(e,r,i){X(n,t(e,r,i),e)},tW),n};function nG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nJ{constructor(e,t){nG(this,"ctx",void 0),nG(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=t,e._execCallableAPI("register-search-service",e.baseInfo.id,t.name,t.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:e=>(eE(null==e?void 0:e.blocks)&&(e.blocks=e.blocks.map(e=>e&&nV(e,(e,t)=>`block/${t}`))),e)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([n,r])=>{let i=`service:search:${n}:${t.name}`;e.caller.on(i,async n=>{if(L(null==t?void 0:t[r.f])){let o=null;try{o=await t[r.f].apply(t,(r.args||[]).map(e=>{if(n){if(!0===e)return n;if(n.hasOwnProperty(e)){let t=n[e];return delete n[e],t}}})),r.transformOutput&&(o=r.transformOutput(o))}catch(e){console.error("[SearchService] ",e),o=e}finally{r.reply&&e.caller.call(`${i}:reply`,o)}}})})}}function nK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let nY=Symbol.for("proxy-continue"),nQ=tp()("LSPlugin:user"),nX=new tu("",{console:!0});function nZ(e,t,n){var r;if("function"!=typeof n)return!1;let{key:i,label:o,desc:s,palette:a,keybinding:l,extras:c}=t,u=`SimpleCommandHook${i}${++n9}`;this.Editor["on"+u](n),null===(r=this.caller)||void 0===r||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:o,type:e,desc:s,keybinding:l,extras:c},["editor/hook",u]],a]})}function n0(e){return!("string"!=typeof e||36!==e.length||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(nX.error(`#${e} is not a valid UUID string.`),!1)}let n1=null,n3=new Map,n2={async getInfo(e){return n1||(n1=await this._execCallableAPIAsync("get-app-info")),"string"==typeof e?n1[e]:n1},registerCommand:nZ,registerSearchService(e){if(n3.has(e.name))throw Error(`SearchService: #${e.name} has registered!`);n3.set(e.name,new nJ(this,e))},registerCommandPalette(e,t){let{key:n,label:r,keybinding:i}=e;return nZ.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},t)},registerCommandShortcut(e,t){let{binding:n}=e,r="$shortcut$",i=r+tc(n);return nZ.call(this,r,{key:i,palette:!1,keybinding:e},t)},registerUIItem(e,t){var n;let r=this.baseInfo.id;null===(n=this.caller)||void 0===n||n.call("api:call",{method:"register-plugin-ui-item",args:[r,e,t]})},registerPageMenuItem(e,t){if("function"!=typeof t)return!1;let n=e+"_"+this.baseInfo.id;nZ.call(this,"page-menu-item",{key:n,label:e},t)},onBlockRendererSlotted(e,t){if(!n0(e))return;let n=this.baseInfo.id,r=`hook:editor:${tc(`slot:${e}`)}`;return this.caller.on(r,t),this.App._installPluginHook(n,r),()=>{this.caller.off(r,t),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(e,...t){var n;if(!(e=null===(n=e)||void 0===n?void 0:n.trim()))return;let[r,i]=e.split(".");if(!["models","commands"].includes(null==i?void 0:i.toLowerCase()))throw Error("Type only support '.models' or '.commands' currently.");let o=e.replace(`${r}.${i}.`,"");if(!r||!i||!o)throw Error(`Illegal type of #${e} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),o,t)},setFullScreen(e){let t=(...e)=>this._callWin("setFullScreen",...e);"toggle"===e?this._callWin("isFullScreen").then(e=>{e?t():t(!0)}):e?t(!0):t()}},n9=0,n6={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(e,t){var n;nQ("Register slash command #",this.baseInfo.id,e,t),"function"==typeof t&&(t=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",t]]),t=t.map(e=>{let[t,...n]=e;if("editor/hook"===t){let r=n[0],i=()=>{var e;null===(e=this.caller)||void 0===e||e.callUserModel(r)};"function"==typeof r&&(i=r);let o=`SlashCommandHook${t}${++n9}`;e[1]=o,this.Editor["on"+o](i)}return e}),null===(n=this.caller)||void 0===n||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[e,t]]})},registerBlockContextMenuItem(e,t){if("function"!=typeof t)return!1;let n=e+"_"+this.baseInfo.id;nZ.call(this,"block-context-menu-item",{key:n,label:e},t)},registerHighlightContextMenuItem(e,t,n){if("function"!=typeof t)return!1;let r=e+"_"+this.baseInfo.id;nZ.call(this,"highlight-context-menu-item",{key:r,label:e,extras:n},t)},scrollToBlockInPage(e,t,n){let r="block-content-"+t;null!=n&&n.replaceState?this.App.replaceState("page",{name:e},{anchor:r}):this.App.pushState("page",{name:e},{anchor:r})}},n5={onBlockChanged(e,t){if(!n0(e))return;let n=this.baseInfo.id,r=`hook:db:${tc(`block:${e}`)}`,i=({block:n,txData:r,txMeta:i})=>{n.uuid===e&&t(n,r,i)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(e,...t){return(t.pop(),null!=t&&t.some(e=>"function"==typeof e))?this.Experiments.ensureHostScope().logseq.api.datascript_query(e,...t):this._execCallableAPIAsync("datascript_query",e,...t)}},n4={},n8={},n7={makeSandboxStorage(){return new t$(this,{assets:!0})}};class re extends ts(){constructor(e,t){super(),nK(this,"_baseInfo",void 0),nK(this,"_caller",void 0),nK(this,"_version","0.0.14"),nK(this,"_debugTag",""),nK(this,"_settingsSchema",void 0),nK(this,"_connected",!1),nK(this,"_ui",new Map),nK(this,"_mFileStorage",void 0),nK(this,"_mRequest",void 0),nK(this,"_mExperiments",void 0),nK(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=t,t.on("sys:ui:visible",e=>{null!=e&&e.toggle&&this.toggleMainUI()}),t.on("settings:changed",e=>{let t=Object.assign({},this.settings),n=Object.assign(this._baseInfo.settings,e);this.emit("settings:changed",{...n},t)}),t.on("beforeunload",async e=>{let{actor:n,...r}=e,i=this._beforeunloadCallback;try{i&&await i(r),null==n||n.resolve(null)}catch(e){console.debug(`${t.debugTag} [beforeunload] `,e),null==n||n.reject(e)}})}async ready(e,t){if(!this._connected)try{var n;"function"==typeof e&&(t=e,e={});let r=await this._caller.connectToParent(e);this._connected=!0,r=e7(this._baseInfo,r),null!==(n=r)&&void 0!==n&&n.id&&(this._debugTag=this._caller.debugTag=`#${r.id} [${r.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(r.settings=function(e,t){let n=(t||[]).reduce((e,t)=>("default"in t&&(e[t.key]=t.default),e),{});return Object.assign(n,e)}(r.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(e){console.warn(e)}t&&t.call(this,r)}catch(e){console.error(`${this._debugTag} [Ready Error]`,e)}}ensureConnected(){if(!this._connected)throw Error("not connected")}beforeunload(e){"function"==typeof e&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){let t="settings:changed";return this.on(t,e),()=>this.off(t,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){let t={key:0,visible:!1,cursor:null==e?void 0:e.restoreEditingCursor};this.caller.call("main-ui:visible",t),this.emit("ui:visible:changed",t),this._ui.set(t.key,t)}showMainUI(e){let t={key:0,visible:!0,autoFocus:null==e?void 0:e.autoFocus};this.caller.call("main-ui:visible",t),this.emit("ui:visible:changed",t),this._ui.set(t.key,t)}toggleMainUI(){let e=this._ui.get(0);e&&e.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){let e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){var e,t;return this&&((null===(e=this.baseInfo)||void 0===e?void 0:e.effect)||!(null!==(t=this.baseInfo)&&void 0!==t&&t.iir))}get logger(){return nX}get settings(){var e;return null===(e=this.baseInfo)||void 0===e?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),function(e,...t){try{let n=new URL(e);if(!n.origin)throw Error(null);let r=tl.join(e.substr(n.origin.length),...t);return n.origin+r}catch(n){return tl.join(e,...t)}}(this._baseInfo.lsr,e)}_makeUserProxy(e,t){let n=this,r=this.caller;return new Proxy(e,{get(e,i,o){let s=e[i];return function(...e){if(s){let r=s.apply(n,e.concat(t));if(r!==nY)return r}if(t){let o=i.toString().match(/^(once|off|on)/i);if(null!=o){let i=o[0].toLowerCase(),s=o.input.slice(i.length),a=n.baseInfo.id,l=`hook:${t}:${tc(s)}`,c=e[0];r[i](l,c);let u=()=>{r.off(l,c),r.listenerCount(l)||n.App._uninstallPluginHook(a,l)};return"off"===i?void u():(n.App._installPluginHook(a,l),u)}}let o=i;return["git","ui","assets"].includes(t)&&(o=t+"_"+o),r.callAsync("api:call",{tag:t,method:o,args:e})}}})}_execCallableAPIAsync(e,...t){return this._caller.callAsync("api:call",{method:e,args:t})}_execCallableAPI(e,...t){this._caller.call("api:call",{method:e,args:t})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(n2,"app")}get Editor(){return this._makeUserProxy(n6,"editor")}get DB(){return this._makeUserProxy(n5,"db")}get Git(){return this._makeUserProxy(n4,"git")}get UI(){return this._makeUserProxy(n8,"ui")}get Assets(){return this._makeUserProxy(n7,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new t$(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new tz(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new tP(this)),e}}function rt(e,t){return new re(e,t)}if(null==window.__LSP__HOST__){let e=new tM(null);window.logseq=rt({},e)}})(),s})()}),o.register("iAw7B",function(e,t){e.exports=new URL(o("dRo73").resolve("4BQoy"),import.meta.url).toString()}),o("cVm5l");class s{constructor(e,t){this.templateEl=e,this.parent=t}render(e,t){let n=this.templateEl.cloneNode(!0);this.el=n,cards.appendChild(n),n.id=`template-${t}`,n.querySelector("h5.card-title").innerText=e.Template,n.querySelector("p.template-description").innerText=e.Description,n.querySelector("p.template-user").innerText=`Shared by ${e.User}`;let r=n.querySelector("span.template-content");this.insertTemplateContent(r,e.Content),this.content=r,n.classList.remove("d-none")}addContentClickListener(e){this.content.addEventListener("click",e)}addInstallClickListener(e){this.el.querySelector("#download-button").addEventListener("click",e)}addLoveClickListener(e){this.el.querySelector("#heart-button").addEventListener("click",e)}addDeleteClickListener(e){this.el.querySelector("#delete-button").addEventListener("click",e)}setLoved(e){let t=this.el.querySelector("#heart-button .inline-icon");e?(t.classList.remove("heart-icon"),t.classList.add("heart-fill-icon")):(t.classList.add("heart-icon"),t.classList.remove("heart-fill-icon"))}setInstalled(e){}insertTemplateContent(e,t){var n;try{n=JSON.parse(t)}catch(e){n={blocks:[{level:0,content:"INVALID JSON",children:[]}]}}n.blocks.forEach(t=>{this.renderBlock(t,e)})}showDelete(){this.el.querySelector("#delete-button").classList.remove("d-none")}hideDelete(){this.el.querySelector("#delete-button").classList.add("d-none")}renderBlock(e,t){var n;let r=document.createElement("span");t.appendChild(r),r.classList.add("d-flex"),r.classList.add("flex-row"),r.classList.add("mb-1");for(var i=0;i<e.level;i++)(n=document.createElement("div")).classList.add("m-2"),r.appendChild(n);(n=document.createElement("ul")).classList.add("circle"),n.classList.add("mb-0"),n.appendChild(document.createElement("li")),r.appendChild(n);let o=document.createElement("div");r.appendChild(o);let s=e.content.split("\n"),a=/[A-Za-z0-9]+\:\:/,l=[];for(var i=s.length-1;i>=0;i--)s[i].match(a)&&(l.push(s[i]),s.splice(i,1));if(this.renderLine(o,s[0]||""),s.splice(0,1),l.length>0){let e=document.createElement("div");e.classList.add("block-properties"),o.appendChild(e),l.forEach(t=>{let n=t.split("::");this.renderProperty(e,n)})}s.forEach(e=>{this.renderLine(o,e||"")}),e.children.forEach(e=>{this.renderBlock(e,t)})}renderLine(e,t){let n=document.createElement("p");n.classList.add("mb-0"),t=this.formatLinks(t),t=this.formatMarkdown(t),t=this.formatTODOs(t),n.innerHTML=t,e.appendChild(n)}renderProperty(e,t){let n=document.createElement("p");n.classList.add("mb-0");var r=`<span class="property-name">${t[0]}</span><span class="separator">:</span>`;t.length>1&&(r+=this.formatLinks(t[1])),n.innerHTML=r,e.appendChild(n)}formatLinks(e){return e=(e=(e=e.replaceAll(/\#([^\s]+)/g,'<span class="tag">#$1</span>')).replaceAll(/\[\[(.*?)\]\]/g,'<span class="bracket">[[</span><span class="link">$1</span><span class="bracket">]]</span>')).replaceAll(/\[(.*?)\]\([^\s]+\)/g,'<span class="external-link">$1</span>')}formatMarkdown(e){return e=(e=(e=(e=(e=e.replaceAll(/\*\*(.*?)\*\*/g,"<b>$1</b>")).replaceAll(/\_(.*?)\_/g,"<i>$1</i>")).replaceAll(/\~\~(.*?)\~\~/g,'<span class="strikethrough">$1</span>')).replaceAll(/\^\^(.*?)\^\^/g,'<span class="highlight">$1</span>')).replaceAll(/\`(.*?)\`/g,'<span class="code">$1</span>')}formatTODOs(e){let t='<input type="checkbox" disabled />';return e=(e=(e=(e=(e=e.replaceAll(/\bNOW\b/g,t)).replaceAll(/\bLATER\b/g,t)).replaceAll(/\bDOING\b/g,t)).replaceAll(/\bTODO\b/g,t)).replaceAll(/\bDONE\b/g,t)}}var a={};n(a,"popperGenerator",()=>eN),n(a,"detectOverflow",()=>eC),n(a,"createPopperBase",()=>eM),n(a,"createPopper",()=>eD),n(a,"createPopperLite",()=>e$);var l={};n(l,"top",()=>c),n(l,"bottom",()=>u),n(l,"right",()=>d),n(l,"left",()=>h),n(l,"auto",()=>f),n(l,"basePlacements",()=>p),n(l,"start",()=>m),n(l,"end",()=>g),n(l,"clippingParents",()=>v),n(l,"viewport",()=>_),n(l,"popper",()=>y),n(l,"reference",()=>b),n(l,"variationPlacements",()=>w),n(l,"placements",()=>E),n(l,"beforeRead",()=>C),n(l,"read",()=>x),n(l,"afterRead",()=>A),n(l,"beforeMain",()=>O),n(l,"main",()=>T),n(l,"afterMain",()=>k),n(l,"beforeWrite",()=>S),n(l,"write",()=>L),n(l,"afterWrite",()=>I),n(l,"modifierPhases",()=>j);var c="top",u="bottom",d="right",h="left",f="auto",p=[c,u,d,h],m="start",g="end",v="clippingParents",_="viewport",y="popper",b="reference",w=p.reduce(function(e,t){return e.concat([t+"-"+m,t+"-"+g])},[]),E=[].concat(p,[f]).reduce(function(e,t){return e.concat([t,t+"-"+m,t+"-"+g])},[]),C="beforeRead",x="read",A="afterRead",O="beforeMain",T="main",k="afterMain",S="beforeWrite",L="write",I="afterWrite",j=[C,x,A,O,T,k,S,L,I],N={};function M(e){return e?(e.nodeName||"").toLowerCase():null}function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $(e){var t=D(e).Element;return e instanceof t||e instanceof Element}function P(e){var t=D(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function F(e){if("undefined"==typeof ShadowRoot)return!1;var t=D(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}n(N,"applyStyles",()=>R),n(N,"arrow",()=>eo),n(N,"computeStyles",()=>ec),n(N,"eventListeners",()=>ed),n(N,"flip",()=>ex),n(N,"hide",()=>eT),n(N,"offset",()=>ek),n(N,"popperOffsets",()=>eS),n(N,"preventOverflow",()=>eL);var R={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];P(i)&&M(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});P(r)&&M(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};function U(e){return e.split("-")[0]}var z=Math.max,B=Math.min,H=Math.round;function q(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function W(){return!/^((?!chrome|android).)*safari/i.test(q())}function V(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&P(e)&&(i=e.offsetWidth>0&&H(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&H(r.height)/e.offsetHeight||1);var s=($(e)?D(e):window).visualViewport,a=!W()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function G(e){var t=V(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function J(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&F(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function K(e){return D(e).getComputedStyle(e)}function Y(e){return(($(e)?e.ownerDocument:e.document)||window.document).documentElement}function Q(e){return"html"===M(e)?e:e.assignedSlot||e.parentNode||(F(e)?e.host:null)||Y(e)}function X(e){return P(e)&&"fixed"!==K(e).position?e.offsetParent:null}function Z(e){for(var t=D(e),n=X(e);n&&["table","td","th"].indexOf(M(n))>=0&&"static"===K(n).position;)n=X(n);return n&&("html"===M(n)||"body"===M(n)&&"static"===K(n).position)?t:n||function(e){var t=/firefox/i.test(q());if(/Trident/i.test(q())&&P(e)&&"fixed"===K(e).position)return null;var n=Q(e);for(F(n)&&(n=n.host);P(n)&&0>["html","body"].indexOf(M(n));){var r=K(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function et(e,t,n){return z(e,B(t,n))}function en(){return{top:0,right:0,bottom:0,left:0}}function er(e){return Object.assign({},en(),e)}function ei(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var eo={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=U(n.placement),l=ee(a),f=[h,d].indexOf(a)>=0?"height":"width";if(o&&s){var m,g=er("number"!=typeof(m="function"==typeof(m=i.padding)?m(Object.assign({},n.rects,{placement:n.placement})):m)?m:ei(m,p)),v=G(o),_="y"===l?c:h,y="y"===l?u:d,b=n.rects.reference[f]+n.rects.reference[l]-s[l]-n.rects.popper[f],w=s[l]-n.rects.reference[l],E=Z(o),C=E?"y"===l?E.clientHeight||0:E.clientWidth||0:0,x=g[_],A=C-v[f]-g[y],O=C/2-v[f]/2+(b/2-w/2),T=et(x,O,A);n.modifiersData[r]=((t={})[l]=T,t.centerOffset=T-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&J(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function es(e){return e.split("-")[1]}var ea={top:"auto",right:"auto",bottom:"auto",left:"auto"};function el(e){var t,n,r,i,o,s,a,l=e.popper,f=e.popperRect,p=e.placement,m=e.variation,v=e.offsets,_=e.position,y=e.gpuAcceleration,b=e.adaptive,w=e.roundOffsets,E=e.isFixed,C=v.x,x=void 0===C?0:C,A=v.y,O=void 0===A?0:A,T="function"==typeof w?w({x:x,y:O}):{x:x,y:O};x=T.x,O=T.y;var k=v.hasOwnProperty("x"),S=v.hasOwnProperty("y"),L=h,I=c,j=window;if(b){var N=Z(l),M="clientHeight",$="clientWidth";N===D(l)&&"static"!==K(N=Y(l)).position&&"absolute"===_&&(M="scrollHeight",$="scrollWidth"),(p===c||(p===h||p===d)&&m===g)&&(I=u,O-=(E&&N===j&&j.visualViewport?j.visualViewport.height:N[M])-f.height,O*=y?1:-1),(p===h||(p===c||p===u)&&m===g)&&(L=d,x-=(E&&N===j&&j.visualViewport?j.visualViewport.width:N[$])-f.width,x*=y?1:-1)}var P=Object.assign({position:_},b&&ea),F=!0===w?(t={x:x,y:O},n=D(l),r=t.x,i=t.y,{x:H(r*(o=n.devicePixelRatio||1))/o||0,y:H(i*o)/o||0}):{x:x,y:O};return(x=F.x,O=F.y,y)?Object.assign({},P,((a={})[I]=S?"0":"",a[L]=k?"0":"",a.transform=1>=(j.devicePixelRatio||1)?"translate("+x+"px, "+O+"px)":"translate3d("+x+"px, "+O+"px, 0)",a)):Object.assign({},P,((s={})[I]=S?O+"px":"",s[L]=k?x+"px":"",s.transform="",s))}var ec={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=n.adaptive,o=n.roundOffsets,s=void 0===o||o,a={placement:U(t.placement),variation:es(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,el(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,el(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},eu={passive:!0},ed={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=D(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,eu)}),a&&l.addEventListener("resize",n.update,eu),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,eu)}),a&&l.removeEventListener("resize",n.update,eu)}},data:{}},eh={left:"right",right:"left",bottom:"top",top:"bottom"};function ef(e){return e.replace(/left|right|bottom|top/g,function(e){return eh[e]})}var ep={start:"end",end:"start"};function em(e){return e.replace(/start|end/g,function(e){return ep[e]})}function eg(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ev(e){return V(Y(e)).left+eg(e).scrollLeft}function e_(e){var t=K(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ey(e,t){void 0===t&&(t=[]);var n,r=function e(t){return["html","body","#document"].indexOf(M(t))>=0?t.ownerDocument.body:P(t)&&e_(t)?t:e(Q(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=D(r),s=i?[o].concat(o.visualViewport||[],e_(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(ey(Q(s)))}function eb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ew(e,t,n){var r,i,o,s,a,l,c,u,d,h;return t===_?eb(function(e,t){var n=D(e),r=Y(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=W();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+ev(e),y:l}}(e,n)):$(t)?((r=V(t,!1,"fixed"===n)).top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r):eb((i=Y(e),s=Y(i),a=eg(i),l=null==(o=i.ownerDocument)?void 0:o.body,c=z(s.scrollWidth,s.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=z(s.scrollHeight,s.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),d=-a.scrollLeft+ev(i),h=-a.scrollTop,"rtl"===K(l||s).direction&&(d+=z(s.clientWidth,l?l.clientWidth:0)-c),{width:c,height:u,x:d,y:h}))}function eE(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?U(i):null,s=i?es(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case c:t={x:a,y:n.y-r.height};break;case u:t={x:a,y:n.y+n.height};break;case d:t={x:n.x+n.width,y:l};break;case h:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var f=o?ee(o):null;if(null!=f){var p="y"===f?"height":"width";switch(s){case m:t[f]=t[f]-(n[p]/2-r[p]/2);break;case g:t[f]=t[f]+(n[p]/2-r[p]/2)}}return t}function eC(e,t){void 0===t&&(t={});var n,r,i,o,s,a,l=t,h=l.placement,f=void 0===h?e.placement:h,m=l.strategy,g=void 0===m?e.strategy:m,w=l.boundary,E=void 0===w?v:w,C=l.rootBoundary,x=void 0===C?_:C,A=l.elementContext,O=void 0===A?y:A,T=l.altBoundary,k=l.padding,S=void 0===k?0:k,L=er("number"!=typeof S?S:ei(S,p)),I=O===y?b:y,j=e.rects.popper,N=e.elements[void 0!==T&&T?I:O],D=(n=$(N)?N:N.contextElement||Y(e.elements.popper),s=(o=[].concat("clippingParents"===E?(r=ey(Q(n)),$(i=["absolute","fixed"].indexOf(K(n).position)>=0&&P(n)?Z(n):n)?r.filter(function(e){return $(e)&&J(e,i)&&"body"!==M(e)}):[]):[].concat(E),[x]))[0],(a=o.reduce(function(e,t){var r=ew(n,t,g);return e.top=z(r.top,e.top),e.right=B(r.right,e.right),e.bottom=B(r.bottom,e.bottom),e.left=z(r.left,e.left),e},ew(n,s,g))).width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a),F=V(e.elements.reference),R=eE({reference:F,element:j,strategy:"absolute",placement:f}),U=eb(Object.assign({},j,R)),H=O===y?U:F,q={top:D.top-H.top+L.top,bottom:H.bottom-D.bottom+L.bottom,left:D.left-H.left+L.left,right:H.right-D.right+L.right},W=e.modifiersData.offset;if(O===y&&W){var G=W[f];Object.keys(q).forEach(function(e){var t=[d,u].indexOf(e)>=0?1:-1,n=[c,u].indexOf(e)>=0?"y":"x";q[e]+=G[n]*t})}return q}var ex={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,g=n.padding,v=n.boundary,_=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,C=void 0===b||b,x=n.allowedAutoPlacements,A=t.options.placement,O=U(A)===A,T=l||(O||!C?[ef(A)]:function(e){if(U(e)===f)return[];var t=ef(e);return[em(e),t,em(t)]}(A)),k=[A].concat(T).reduce(function(e,n){var r,i,o,s,a,l,c,u,d,h,m,y;return e.concat(U(n)===f?(i=(r={placement:n,boundary:v,rootBoundary:_,padding:g,flipVariations:C,allowedAutoPlacements:x}).placement,o=r.boundary,s=r.rootBoundary,a=r.padding,l=r.flipVariations,u=void 0===(c=r.allowedAutoPlacements)?E:c,0===(m=(h=(d=es(i))?l?w:w.filter(function(e){return es(e)===d}):p).filter(function(e){return u.indexOf(e)>=0})).length&&(m=h),Object.keys(y=m.reduce(function(e,n){return e[n]=eC(t,{placement:n,boundary:o,rootBoundary:s,padding:a})[U(n)],e},{})).sort(function(e,t){return y[e]-y[t]})):n)},[]),S=t.rects.reference,L=t.rects.popper,I=new Map,j=!0,N=k[0],M=0;M<k.length;M++){var D=k[M],$=U(D),P=es(D)===m,F=[c,u].indexOf($)>=0,R=F?"width":"height",z=eC(t,{placement:D,boundary:v,rootBoundary:_,altBoundary:y,padding:g}),B=F?P?d:h:P?u:c;S[R]>L[R]&&(B=ef(B));var H=ef(B),q=[];if(o&&q.push(z[$]<=0),a&&q.push(z[B]<=0,z[H]<=0),q.every(function(e){return e})){N=D,j=!1;break}I.set(D,q)}if(j)for(var W=C?3:1,V=function(e){var t=k.find(function(t){var n=I.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return N=t,"break"},G=W;G>0&&"break"!==V(G);G--);t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eA(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eO(e){return[c,d,u,h].some(function(t){return e[t]>=0})}var eT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=eC(t,{elementContext:"reference"}),a=eC(t,{altBoundary:!0}),l=eA(s,r),c=eA(a,i,o),u=eO(l),d=eO(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},ek={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=E.reduce(function(e,n){var r,i,s,a,l,u;return e[n]=(r=t.rects,s=[h,c].indexOf(i=U(n))>=0?-1:1,l=(a="function"==typeof o?o(Object.assign({},r,{placement:n})):o)[0],u=a[1],l=l||0,u=(u||0)*s,[h,d].indexOf(i)>=0?{x:u,y:l}:{x:l,y:u}),e},{}),a=s[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}},eS={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=eE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=n.altAxis,s=n.boundary,a=n.rootBoundary,l=n.altBoundary,f=n.padding,p=n.tether,g=void 0===p||p,v=n.tetherOffset,_=void 0===v?0:v,y=eC(t,{boundary:s,rootBoundary:a,padding:f,altBoundary:l}),b=U(t.placement),w=es(t.placement),E=!w,C=ee(b),x="x"===C?"y":"x",A=t.modifiersData.popperOffsets,O=t.rects.reference,T=t.rects.popper,k="function"==typeof _?_(Object.assign({},t.rects,{placement:t.placement})):_,S="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(A){if(void 0===i||i){var j,N="y"===C?c:h,M="y"===C?u:d,D="y"===C?"height":"width",$=A[C],P=$+y[N],F=$-y[M],R=g?-T[D]/2:0,H=w===m?O[D]:T[D],q=w===m?-T[D]:-O[D],W=t.elements.arrow,V=g&&W?G(W):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:en(),K=J[N],Y=J[M],Q=et(0,O[D],V[D]),X=E?O[D]/2-R-Q-K-S.mainAxis:H-Q-K-S.mainAxis,er=E?-O[D]/2+R+Q+Y+S.mainAxis:q+Q+Y+S.mainAxis,ei=t.elements.arrow&&Z(t.elements.arrow),eo=ei?"y"===C?ei.clientTop||0:ei.clientLeft||0:0,ea=null!=(j=null==L?void 0:L[C])?j:0,el=$+X-ea-eo,ec=$+er-ea,eu=et(g?B(P,el):P,$,g?z(F,ec):F);A[C]=eu,I[C]=eu-$}if(void 0!==o&&o){var ed,eh,ef="x"===C?c:h,ep="x"===C?u:d,em=A[x],eg="y"===x?"height":"width",ev=em+y[ef],e_=em-y[ep],ey=-1!==[c,h].indexOf(b),eb=null!=(eh=null==L?void 0:L[x])?eh:0,ew=ey?ev:em-O[eg]-T[eg]-eb+S.altAxis,eE=ey?em+O[eg]+T[eg]-eb-S.altAxis:e_,ex=g&&ey?(ed=et(ew,em,eE))>eE?eE:ed:et(g?ew:ev,em,g?eE:e_);A[x]=ex,I[x]=ex-em}t.modifiersData[r]=I}},requiresIfExists:["offset"]},eI={placement:"bottom",modifiers:[],strategy:"absolute"};function ej(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function eN(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?eI:i;return function(e,t,n){void 0===n&&(n=o);var i,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},eI,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],l=!1,c={state:s,setOptions:function(n){var i,l,d,h,f,p="function"==typeof n?n(s.options):n;u(),s.options=Object.assign({},o,s.options,p),s.scrollParents={reference:$(e)?ey(e):e.contextElement?ey(e.contextElement):[],popper:ey(t)};var m=(l=Object.keys(i=[].concat(r,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return i[e]}),d=new Map,h=new Set,f=[],l.forEach(function(e){d.set(e.name,e)}),l.forEach(function(e){h.has(e.name)||function e(t){h.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!h.has(t)){var n=d.get(t);n&&e(n)}}),f.push(t)}(e)}),j.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=m.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var i=r({state:s,name:t,instance:c,options:void 0===n?{}:n});a.push(i||function(){})}}),c.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(ej(t,n)){s.rects={reference:(r=Z(n),i="fixed"===s.options.strategy,d=P(r),h=P(r)&&(a=H((o=r.getBoundingClientRect()).width)/r.offsetWidth||1,u=H(o.height)/r.offsetHeight||1,1!==a||1!==u),f=Y(r),p=V(t,h,i),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(d||!d&&!i)&&(("body"!==M(r)||e_(f))&&(m=r!==D(r)&&P(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:eg(r)),P(r)?(g=V(r,!0),g.x+=r.clientLeft,g.y+=r.clientTop):f&&(g.x=ev(f))),{x:p.left+m.scrollLeft-g.x,y:p.top+m.scrollTop-g.y,width:p.width,height:p.height}),popper:G(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var r,i,o,a,u,d,h,f,p,m,g,v=0;v<s.orderedModifiers.length;v++){if(!0===s.reset){s.reset=!1,v=-1;continue}var _=s.orderedModifiers[v],y=_.fn,b=_.options,w=void 0===b?{}:b,E=_.name;"function"==typeof y&&(s=y({state:s,options:w,name:E,instance:c})||s)}}}},update:function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(new Promise(function(e){c.forceUpdate(),e(s)}))})})),i},destroy:function(){u(),l=!0}};if(!ej(e,t))return c;function u(){a.forEach(function(e){return e()}),a=[]}return c.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),c}}var eM=eN(),eD=eN({defaultModifiers:[ed,eS,ec,R,ek,ex,eL,eo,eT]}),e$=eN({defaultModifiers:[ed,eS,ec,R]});t(a,l),t(a,N);const eP=new Map,eF={set(e,t,n){eP.has(e)||eP.set(e,new Map);let r=eP.get(e);if(!r.has(t)&&0!==r.size){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get:(e,t)=>eP.has(e)&&eP.get(e).get(t)||null,remove(e,t){if(!eP.has(e))return;let n=eP.get(e);n.delete(t),0===n.size&&eP.delete(e)}},eR="transitionend",eU=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),ez=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),eB=e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e))return e},eH=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e),r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*1e3):0},eq=e=>{e.dispatchEvent(new Event(eR))},eW=e=>!!e&&"object"==typeof e&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),eV=e=>eW(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(eU(e)):null,eG=e=>{if(!eW(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){let t=e.closest("summary");if(t&&t.parentNode!==n||null===t)return!1}return t},eJ=e=>!!(!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled"))||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),eK=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eK(e.parentNode):null},eY=()=>{},eQ=e=>{e.offsetHeight},eX=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,eZ=[],e0=e=>{"loading"===document.readyState?(eZ.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of eZ)e()}),eZ.push(e)):e()},e1=()=>"rtl"===document.documentElement.dir,e3=e=>{e0(()=>{let t=eX();if(t){let n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},e2=(e,t=[],n=e)=>"function"==typeof e?e(...t):n,e9=(e,t,n=!0)=>{if(!n){e2(e);return}let r=eH(t)+5,i=!1,o=({target:n})=>{n===t&&(i=!0,t.removeEventListener(eR,o),e2(e))};t.addEventListener(eR,o),setTimeout(()=>{i||eq(t)},r)},e6=(e,t,n,r)=>{let i=e.length,o=e.indexOf(t);return -1===o?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},e5=/[^.]*(?=\..*)\.|.*/,e4=/\..*/,e8=/::\d+$/,e7={};let te=1;const tt={mouseenter:"mouseover",mouseleave:"mouseout"},tn=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tr(e,t){return t&&`${t}::${te++}`||e.uidEvent||te++}function ti(e){let t=tr(e);return e.uidEvent=t,e7[t]=e7[t]||{},e7[t]}function to(e,t,n=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===n)}function ts(e,t,n){let r="string"==typeof t,i=tc(e);return tn.has(i)||(i=e),[r,r?n:t||n,i]}function ta(e,t,n,r,i){var o,s,a;if("string"!=typeof t||!e)return;let[l,c,u]=ts(t,n,r);t in tt&&(o=c,c=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return o.call(this,e)});let d=ti(e),h=d[u]||(d[u]={}),f=to(h,c,l?n:null);if(f){f.oneOff=f.oneOff&&i;return}let p=tr(c,t.replace(e5,"")),m=l?(s=c,function t(r){let i=e.querySelectorAll(n);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(let a of i)if(a===o)return td(r,{delegateTarget:o}),t.oneOff&&tu.off(e,r.type,n,s),s.apply(o,[r])}):(a=c,function t(n){return td(n,{delegateTarget:e}),t.oneOff&&tu.off(e,n.type,a),a.apply(e,[n])});m.delegationSelector=l?n:null,m.callable=c,m.oneOff=i,m.uidEvent=p,h[p]=m,e.addEventListener(u,m,l)}function tl(e,t,n,r,i){let o=to(t[n],r,i);o&&(e.removeEventListener(n,o,!!i),delete t[n][o.uidEvent])}function tc(e){return tt[e=e.replace(e4,"")]||e}const tu={on(e,t,n,r){ta(e,t,n,r,!1)},one(e,t,n,r){ta(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;let[i,o,s]=ts(t,n,r),a=s!==t,l=ti(e),c=l[s]||{},u=t.startsWith(".");if(void 0!==o){if(!Object.keys(c).length)return;tl(e,l,s,o,i?n:null);return}if(u)for(let n of Object.keys(l))!function(e,t,n,r){let i=t[n]||{};for(let[o,s]of Object.entries(i))o.includes(r)&&tl(e,t,n,s.callable,s.delegationSelector)}(e,l,n,t.slice(1));for(let[n,r]of Object.entries(c)){let i=n.replace(e8,"");(!a||t.includes(i))&&tl(e,l,s,r.callable,r.delegationSelector)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;let r=eX(),i=tc(t),o=t!==i,s=null,a=!0,l=!0,c=!1;o&&r&&(s=r.Event(t,n),r(e).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());let u=td(new Event(t,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&s&&s.preventDefault(),u}};function td(e,t={}){for(let[n,r]of Object.entries(t))try{e[n]=r}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>r})}return e}function th(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function tf(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const tp={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${tf(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${tf(t)}`)},getDataAttributes(e){if(!e)return{};let t={},n=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(let r of n){let n=r.replace(/^bs/,"");t[n=n.charAt(0).toLowerCase()+n.slice(1,n.length)]=th(e.dataset[r])}return t},getDataAttribute:(e,t)=>th(e.getAttribute(`data-bs-${tf(t)}`))};class tm{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let n=eW(t)?tp.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...eW(t)?tp.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[n,r]of Object.entries(t)){let t=e[n],i=eW(t)?"element":ez(t);if(!new RegExp(r).test(i))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${r}".`)}}}class tg extends tm{constructor(e,t){if(super(),!(e=eV(e)))return;this._element=e,this._config=this._getConfig(t),eF.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let e of(eF.remove(this._element,this.constructor.DATA_KEY),tu.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t,n=!0){e9(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return eF.get(eV(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const tv=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return eU(t)},t_={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let n=[],r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!eJ(e)&&eG(e))},getSelectorFromElement(e){let t=tv(e);return t&&t_.findOne(t)?t:null},getElementFromSelector(e){let t=tv(e);return t?t_.findOne(t):null},getMultipleElementsFromSelector(e){let t=tv(e);return t?t_.find(t):[]}},ty=(e,t="hide")=>{let n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;tu.on(document,n,`[data-bs-dismiss="${r}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),eJ(this))return;let i=t_.getElementFromSelector(this)||this.closest(`.${r}`),o=e.getOrCreateInstance(i);o[t]()})},tb=".bs.alert",tw=`close${tb}`,tE=`closed${tb}`;class tC extends tg{static get NAME(){return"alert"}close(){let e=tu.trigger(this._element,tw);if(e.defaultPrevented)return;this._element.classList.remove("show");let t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),tu.trigger(this._element,tE),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=tC.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}ty(tC,"close"),e3(tC);const tx='[data-bs-toggle="button"]';class tA extends tg{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let t=tA.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}tu.on(document,"click.bs.button.data-api",tx,e=>{e.preventDefault();let t=e.target.closest(tx),n=tA.getOrCreateInstance(t);n.toggle()}),e3(tA);const tO=".bs.swipe",tT=`touchstart${tO}`,tk=`touchmove${tO}`,tS=`touchend${tO}`,tL=`pointerdown${tO}`,tI=`pointerup${tO}`,tj={endCallback:null,leftCallback:null,rightCallback:null},tN={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class tM extends tm{constructor(e,t){if(super(),this._element=e,!e||!tM.isSupported())return;this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return tj}static get DefaultType(){return tN}static get NAME(){return"swipe"}dispose(){tu.off(this._element,tO)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),e2(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&e2(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tu.on(this._element,tL,e=>this._start(e)),tu.on(this._element,tI,e=>this._end(e)),this._element.classList.add("pointer-event")):(tu.on(this._element,tT,e=>this._start(e)),tu.on(this._element,tk,e=>this._move(e)),tu.on(this._element,tS,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const tD=".bs.carousel",t$=".data-api",tP="next",tF="prev",tR="left",tU="right",tz=`slide${tD}`,tB=`slid${tD}`,tH=`keydown${tD}`,tq=`mouseenter${tD}`,tW=`mouseleave${tD}`,tV=`dragstart${tD}`,tG=`load${tD}${t$}`,tJ=`click${tD}${t$}`,tK="carousel",tY="active",tQ=".active",tX=".carousel-item",tZ=tQ+tX,t0={ArrowLeft:tU,ArrowRight:tR},t1={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},t3={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class t2 extends tg{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=t_.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tK&&this.cycle()}static get Default(){return t1}static get DefaultType(){return t3}static get NAME(){return"carousel"}next(){this._slide(tP)}nextWhenVisible(){!document.hidden&&eG(this._element)&&this.next()}prev(){this._slide(tF)}pause(){this._isSliding&&eq(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){tu.one(this._element,tB,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){tu.one(this._element,tB,()=>this.to(e));return}let n=this._getItemIndex(this._getActive());if(n===e)return;let r=e>n?tP:tF;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&tu.on(this._element,tH,e=>this._keydown(e)),"hover"===this._config.pause&&(tu.on(this._element,tq,()=>this.pause()),tu.on(this._element,tW,()=>this._maybeEnableCycle())),this._config.touch&&tM.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of t_.find(".carousel-item img",this._element))tu.on(e,tV,e=>e.preventDefault());this._swipeHelper=new tM(this._element,{leftCallback:()=>this._slide(this._directionToOrder(tR)),rightCallback:()=>this._slide(this._directionToOrder(tU)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=t0[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=t_.findOne(tQ,this._indicatorsElement);t.classList.remove(tY),t.removeAttribute("aria-current");let n=t_.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(tY),n.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let n=this._getActive(),r=e===tP,i=t||e6(this._getItems(),n,r,this._config.wrap);if(i===n)return;let o=this._getItemIndex(i),s=t=>tu.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o}),a=s(tz);if(a.defaultPrevented||!n||!i)return;let l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;let c=r?"carousel-item-start":"carousel-item-end",u=r?"carousel-item-next":"carousel-item-prev";i.classList.add(u),eQ(i),n.classList.add(c),i.classList.add(c),this._queueCallback(()=>{i.classList.remove(c,u),i.classList.add(tY),n.classList.remove(tY,u,c),this._isSliding=!1,s(tB)},n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return t_.findOne(tZ,this._element)}_getItems(){return t_.find(tX,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return e1()?e===tR?tF:tP:e===tR?tP:tF}_orderToDirection(e){return e1()?e===tF?tR:tU:e===tF?tU:tR}static jQueryInterface(e){return this.each(function(){let t=t2.getOrCreateInstance(this,e);if("number"==typeof e){t.to(e);return}if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tu.on(document,tJ,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=t_.getElementFromSelector(this);if(!t||!t.classList.contains(tK))return;e.preventDefault();let n=t2.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if("next"===tp.getDataAttribute(this,"slide")){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),tu.on(window,tG,()=>{let e=t_.find('[data-bs-ride="carousel"]');for(let t of e)t2.getOrCreateInstance(t)}),e3(t2);const t9=".bs.collapse",t6=`show${t9}`,t5=`shown${t9}`,t4=`hide${t9}`,t8=`hidden${t9}`,t7=`click${t9}.data-api`,ne="show",nt="collapse",nn="collapsing",nr=`:scope .${nt} .${nt}`,ni='[data-bs-toggle="collapse"]',no={parent:null,toggle:!0},ns={parent:"(null|element)",toggle:"boolean"};class na extends tg{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let n=t_.find(ni);for(let e of n){let t=t_.getSelectorFromElement(e),n=t_.find(t).filter(e=>e===this._element);null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return no}static get DefaultType(){return ns}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>na.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;let t=tu.trigger(this._element,t6);if(t.defaultPrevented)return;for(let t of e)t.hide();let n=this._getDimension();this._element.classList.remove(nt),this._element.classList.add(nn),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=n[0].toUpperCase()+n.slice(1),i=`scroll${r}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(nn),this._element.classList.add(nt,ne),this._element.style[n]="",tu.trigger(this._element,t5)},this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;let e=tu.trigger(this._element,t4);if(e.defaultPrevented)return;let t=this._getDimension();for(let e of(this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,eQ(this._element),this._element.classList.add(nn),this._element.classList.remove(nt,ne),this._triggerArray)){let t=t_.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(nn),this._element.classList.add(nt),tu.trigger(this._element,t8)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(ne)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=eV(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(ni);for(let t of e){let e=t_.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){let t=t_.find(nr,this._config.parent);return t_.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let n=na.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw TypeError(`No method named "${e}"`);n[e]()}})}}tu.on(document,t7,ni,function(e){for(let t of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),t_.getMultipleElementsFromSelector(this)))na.getOrCreateInstance(t,{toggle:!1}).toggle()}),e3(na);const nl="dropdown",nc=".bs.dropdown",nu=".data-api",nd="ArrowDown",nh=`hide${nc}`,nf=`hidden${nc}`,np=`show${nc}`,nm=`shown${nc}`,ng=`click${nc}${nu}`,nv=`keydown${nc}${nu}`,n_=`keyup${nc}${nu}`,ny="show",nb='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nw=`${nb}.${ny}`,nE=".dropdown-menu",nC=e1()?"top-end":"top-start",nx=e1()?"top-start":"top-end",nA=e1()?"bottom-end":"bottom-start",nO=e1()?"bottom-start":"bottom-end",nT=e1()?"left-start":"right-start",nk=e1()?"right-start":"left-start",nS={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nL={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class nI extends tg{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=t_.next(this._element,nE)[0]||t_.prev(this._element,nE)[0]||t_.findOne(nE,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return nS}static get DefaultType(){return nL}static get NAME(){return nl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(eJ(this._element)||this._isShown())return;let e={relatedTarget:this._element},t=tu.trigger(this._element,np,e);if(!t.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))tu.on(e,"mouseover",eY);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ny),this._element.classList.add(ny),tu.trigger(this._element,nm,e)}}hide(){if(eJ(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){let t=tu.trigger(this._element,nh,e);if(!t.defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tu.off(e,"mouseover",eY);this._popper&&this._popper.destroy(),this._menu.classList.remove(ny),this._element.classList.remove(ny),this._element.setAttribute("aria-expanded","false"),tp.removeDataAttribute(this._menu,"popper"),tu.trigger(this._element,nf,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!eW(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${nl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===a)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:eW(this._config.reference)?e=eV(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=a.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ny)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return nT;if(e.classList.contains("dropstart"))return nk;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?nx:nC:t?nO:nA}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(tp.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...e2(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){let n=t_.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>eG(e));n.length&&e6(n,t,e===nd,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=nI.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;let t=t_.find(nw);for(let n of t){let t=nI.getInstance(n);if(!t||!1===t._config.autoClose)continue;let r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i||t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=["ArrowUp",nd].includes(e.key);if(!r&&!n||t&&!n)return;e.preventDefault();let i=this.matches(nb)?this:t_.prev(this,nb)[0]||t_.next(this,nb)[0]||t_.findOne(nb,e.delegateTarget.parentNode),o=nI.getOrCreateInstance(i);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}tu.on(document,nv,nb,nI.dataApiKeydownHandler),tu.on(document,nv,nE,nI.dataApiKeydownHandler),tu.on(document,ng,nI.clearMenus),tu.on(document,n_,nI.clearMenus),tu.on(document,ng,nb,function(e){e.preventDefault(),nI.getOrCreateInstance(this).toggle()}),e3(nI);const nj="backdrop",nN="show",nM=`mousedown.bs.${nj}`,nD={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},n$={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class nP extends tm{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return nD}static get DefaultType(){return n$}static get NAME(){return nj}show(e){if(!this._config.isVisible){e2(e);return}this._append();let t=this._getElement();this._config.isAnimated&&eQ(t),t.classList.add(nN),this._emulateAnimation(()=>{e2(e)})}hide(e){if(!this._config.isVisible){e2(e);return}this._getElement().classList.remove(nN),this._emulateAnimation(()=>{this.dispose(),e2(e)})}dispose(){this._isAppended&&(tu.off(this._element,nM),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=eV(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),tu.on(e,nM,()=>{e2(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){e9(e,this._getElement(),this._config.isAnimated)}}const nF=".bs.focustrap",nR=`focusin${nF}`,nU=`keydown.tab${nF}`,nz="backward",nB={autofocus:!0,trapElement:null},nH={autofocus:"boolean",trapElement:"element"};class nq extends tm{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nB}static get DefaultType(){return nH}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tu.off(document,nF),tu.on(document,nR,e=>this._handleFocusin(e)),tu.on(document,nU,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tu.off(document,nF))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let n=t_.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===nz?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?nz:"forward")}}const nW=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nV=".sticky-top",nG="padding-right",nJ="margin-right";class nK{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,nG,t=>t+e),this._setElementAttributes(nW,nG,t=>t+e),this._setElementAttributes(nV,nJ,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,nG),this._resetElementAttributes(nW,nG),this._resetElementAttributes(nV,nJ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){let r=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);let i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)})}_saveInitialAttribute(e,t){let n=e.style.getPropertyValue(t);n&&tp.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let n=tp.getDataAttribute(e,t);if(null===n){e.style.removeProperty(t);return}tp.removeDataAttribute(e,t),e.style.setProperty(t,n)})}_applyManipulationCallback(e,t){if(eW(e)){t(e);return}for(let n of t_.find(e,this._element))t(n)}}const nY=".bs.modal",nQ=`hide${nY}`,nX=`hidePrevented${nY}`,nZ=`hidden${nY}`,n0=`show${nY}`,n1=`shown${nY}`,n3=`resize${nY}`,n2=`click.dismiss${nY}`,n9=`mousedown.dismiss${nY}`,n6=`keydown.dismiss${nY}`,n5=`click${nY}.data-api`,n4="modal-open",n8="show",n7="modal-static",re={backdrop:!0,focus:!0,keyboard:!0},rt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class rn extends tg{constructor(e,t){super(e,t),this._dialog=t_.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nK,this._addEventListeners()}static get Default(){return re}static get DefaultType(){return rt}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;let t=tu.trigger(this._element,n0,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(n4),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning)return;let e=tu.trigger(this._element,nQ);e.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(n8),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){tu.off(window,nY),tu.off(this._dialog,nY),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new nP({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nq({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=t_.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),eQ(this._element),this._element.classList.add(n8),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tu.trigger(this._element,n1,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){tu.on(this._element,n6,e=>{if("Escape"===e.key){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),tu.on(window,n3,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tu.on(this._element,n9,e=>{tu.one(this._element,n2,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(n4),this._resetAdjustments(),this._scrollBar.reset(),tu.trigger(this._element,nZ)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){let e=tu.trigger(this._element,nX);if(e.defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(n7)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(n7),this._queueCallback(()=>{this._element.classList.remove(n7),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){let e=e1()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){let e=e1()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let n=rn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw TypeError(`No method named "${e}"`);n[e](t)}})}}tu.on(document,n5,'[data-bs-toggle="modal"]',function(e){let t=t_.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tu.one(t,n0,e=>{e.defaultPrevented||tu.one(t,nZ,()=>{eG(this)&&this.focus()})});let n=t_.findOne(".modal.show");n&&rn.getInstance(n).hide();let r=rn.getOrCreateInstance(t);r.toggle(this)}),ty(rn),e3(rn);const rr=".bs.offcanvas",ri=".data-api",ro=`load${rr}${ri}`,rs="show",ra="showing",rl="hiding",rc=".offcanvas.show",ru=`show${rr}`,rd=`shown${rr}`,rh=`hide${rr}`,rf=`hidePrevented${rr}`,rp=`hidden${rr}`,rm=`resize${rr}`,rg=`click${rr}${ri}`,rv=`keydown.dismiss${rr}`,r_={backdrop:!0,keyboard:!0,scroll:!1},ry={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class rb extends tg{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return r_}static get DefaultType(){return ry}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;let t=tu.trigger(this._element,ru,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new nK().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ra),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(rs),this._element.classList.remove(ra),tu.trigger(this._element,rd,{relatedTarget:e})},this._element,!0))}hide(){if(!this._isShown)return;let e=tu.trigger(this._element,rh);e.defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(rs,rl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new nK().reset(),tu.trigger(this._element,rp)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=!!this._config.backdrop;return new nP({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{if("static"===this._config.backdrop){tu.trigger(this._element,rf);return}this.hide()}:null})}_initializeFocusTrap(){return new nq({trapElement:this._element})}_addEventListeners(){tu.on(this._element,rv,e=>{if("Escape"===e.key){if(this._config.keyboard){this.hide();return}tu.trigger(this._element,rf)}})}static jQueryInterface(e){return this.each(function(){let t=rb.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}tu.on(document,rg,'[data-bs-toggle="offcanvas"]',function(e){let t=t_.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),eJ(this))return;tu.one(t,rp,()=>{eG(this)&&this.focus()});let n=t_.findOne(rc);n&&n!==t&&rb.getInstance(n).hide();let r=rb.getOrCreateInstance(t);r.toggle(this)}),tu.on(window,ro,()=>{for(let e of t_.find(rc))rb.getOrCreateInstance(e).show()}),tu.on(window,rm,()=>{for(let e of t_.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&rb.getOrCreateInstance(e).hide()}),ty(rb),e3(rb);const rw={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rE=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rx=(e,t)=>{let n=e.nodeName.toLowerCase();return t.includes(n)?!rE.has(n)||!!rC.test(e.nodeValue):t.filter(e=>e instanceof RegExp).some(e=>e.test(n))},rA={allowList:rw,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},rO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rT={entry:"(string|element|function|null)",selector:"(string|element)"};class rk extends tm{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return rA}static get DefaultType(){return rO}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,n]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,n,t);let t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},rT)}_setContent(e,t,n){let r=t_.findOne(n,e);if(r){if(!(t=this._resolvePossibleFunction(t))){r.remove();return}if(eW(t)){this._putElementInTemplate(eV(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);let r=new window.DOMParser,i=r.parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let e of o){let n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}let r=[].concat(...e.attributes),i=[].concat(t["*"]||[],t[n]||[]);for(let t of r)rx(t,i)||e.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return e2(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const rS=new Set(["sanitize","allowList","sanitizeFn"]),rL="fade",rI="show",rj=".modal",rN="hide.bs.modal",rM="hover",rD="focus",r$={AUTO:"auto",TOP:"top",RIGHT:e1()?"left":"right",BOTTOM:"bottom",LEFT:e1()?"right":"left"},rP={allowList:rw,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},rF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class rR extends tg{constructor(e,t){if(void 0===a)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rP}static get DefaultType(){return rF}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),tu.off(this._element.closest(rj),rN,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=tu.trigger(this._element,this.constructor.eventName("show")),t=eK(this._element),n=(t||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),tu.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(rI),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tu.on(e,"mouseover",eY);this._queueCallback(()=>{tu.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown())return;let e=tu.trigger(this._element,this.constructor.eventName("hide"));if(e.defaultPrevented)return;let t=this._getTipElement();if(t.classList.remove(rI),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tu.off(e,"mouseover",eY);this._activeTrigger.click=!1,this._activeTrigger[rD]=!1,this._activeTrigger[rM]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tu.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(rL,rI),t.classList.add(`bs-${this.constructor.NAME}-auto`);let n=eB(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(rL),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new rk({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(rL)}_isShown(){return this.tip&&this.tip.classList.contains(rI)}_createPopper(e){let t=e2(this._config.placement,[this,e,this._element]),n=r$[t.toUpperCase()];return a.createPopper(this._element,e,this._getPopperConfig(n))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return e2(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...e2(this._config.popperConfig,[t])}}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if("click"===t)tu.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t.toggle()});else if("manual"!==t){let e=t===rM?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===rM?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");tu.on(this._element,e,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?rD:rM]=!0,t._enter()}),tu.on(this._element,n,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?rD:rM]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tu.on(this._element.closest(rj),rN,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=tp.getDataAttributes(this._element);for(let e of Object.keys(t))rS.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:eV(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=rR.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e3(rR);const rU={...rR.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},rz={...rR.DefaultType,content:"(null|string|element|function)"};class rB extends rR{static get Default(){return rU}static get DefaultType(){return rz}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=rB.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e3(rB);const rH=".bs.scrollspy",rq=`activate${rH}`,rW=`click${rH}`,rV=`load${rH}.data-api`,rG="active",rJ="[href]",rK=".nav-link",rY=`${rK}, .nav-item > ${rK}, .list-group-item`,rQ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rX={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rZ extends tg{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rQ}static get DefaultType(){return rX}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=eV(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tu.off(this._config.target,rW),tu.on(this._config.target,rW,rJ,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:r,behavior:"smooth"});return}n.scrollTop=r}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){let t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;for(let o of(this._previousScrollData.parentScrollTop=r,e)){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}let e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(o),!r)return;continue}i||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=t_.find(rJ,this._config.target);for(let t of e){if(!t.hash||eJ(t))continue;let e=t_.findOne(decodeURI(t.hash),this._element);eG(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(rG),this._activateParents(e),tu.trigger(this._element,rq,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item")){t_.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(rG);return}for(let t of t_.parents(e,".nav, .list-group"))for(let e of t_.prev(t,rY))e.classList.add(rG)}_clearActiveClass(e){e.classList.remove(rG);let t=t_.find(`${rJ}.${rG}`,e);for(let e of t)e.classList.remove(rG)}static jQueryInterface(e){return this.each(function(){let t=rZ.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tu.on(window,rV,()=>{for(let e of t_.find('[data-bs-spy="scroll"]'))rZ.getOrCreateInstance(e)}),e3(rZ);const r0=".bs.tab",r1=`hide${r0}`,r3=`hidden${r0}`,r2=`show${r0}`,r9=`shown${r0}`,r6=`click${r0}`,r5=`keydown${r0}`,r4=`load${r0}`,r8="ArrowRight",r7="ArrowDown",ie="active",it="fade",ir="show",ii=":not(.dropdown-toggle)",io=`.nav-link${ii}, .list-group-item${ii}, [role="tab"]${ii}`,is='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ia=`${io}, ${is}`,il=`.${ie}[data-bs-toggle="tab"], .${ie}[data-bs-toggle="pill"], .${ie}[data-bs-toggle="list"]`;class ic extends tg{constructor(e){if(super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),tu.on(this._element,r5,e=>this._keydown(e))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),n=t?tu.trigger(t,r1,{relatedTarget:e}):null,r=tu.trigger(e,r2,{relatedTarget:t});r.defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(ie),this._activate(t_.getElementFromSelector(e)),this._queueCallback(()=>{if("tab"!==e.getAttribute("role")){e.classList.add(ir);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),tu.trigger(e,r9,{relatedTarget:t})},e,e.classList.contains(it)))}_deactivate(e,t){e&&(e.classList.remove(ie),e.blur(),this._deactivate(t_.getElementFromSelector(e)),this._queueCallback(()=>{if("tab"!==e.getAttribute("role")){e.classList.remove(ir);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),tu.trigger(e,r3,{relatedTarget:t})},e,e.classList.contains(it)))}_keydown(e){if(!["ArrowLeft",r8,"ArrowUp",r7].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=[r8,r7].includes(e.key),n=e6(this._getChildren().filter(e=>!eJ(e)),e.target,t,!0);n&&(n.focus({preventScroll:!0}),ic.getOrCreateInstance(n).show())}_getChildren(){return t_.find(ia,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let n of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=t_.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;let r=(e,r)=>{let i=t_.findOne(e,n);i&&i.classList.toggle(r,t)};r(".dropdown-toggle",ie),r(".dropdown-menu",ir),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(ie)}_getInnerElement(e){return e.matches(ia)?e:t_.findOne(ia,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let t=ic.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tu.on(document,r6,is,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),eJ(this)||ic.getOrCreateInstance(this).show()}),tu.on(window,r4,()=>{for(let e of t_.find(il))ic.getOrCreateInstance(e)}),e3(ic);const iu=".bs.toast",id=`mouseover${iu}`,ih=`mouseout${iu}`,ip=`focusin${iu}`,im=`focusout${iu}`,ig=`hide${iu}`,iv=`hidden${iu}`,i_=`show${iu}`,iy=`shown${iu}`,ib="hide",iw="show",iE="showing",iC={animation:"boolean",autohide:"boolean",delay:"number"},ix={animation:!0,autohide:!0,delay:5e3};class iA extends tg{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ix}static get DefaultType(){return iC}static get NAME(){return"toast"}show(){let e=tu.trigger(this._element,i_);e.defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ib),eQ(this._element),this._element.classList.add(iw,iE),this._queueCallback(()=>{this._element.classList.remove(iE),tu.trigger(this._element,iy),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){if(!this.isShown())return;let e=tu.trigger(this._element,ig);e.defaultPrevented||(this._element.classList.add(iE),this._queueCallback(()=>{this._element.classList.add(ib),this._element.classList.remove(iE,iw),tu.trigger(this._element,iv)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(iw),super.dispose()}isShown(){return this._element.classList.contains(iw)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t){this._clearTimeout();return}let n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){tu.on(this._element,id,e=>this._onInteraction(e,!0)),tu.on(this._element,ih,e=>this._onInteraction(e,!1)),tu.on(this._element,ip,e=>this._onInteraction(e,!0)),tu.on(this._element,im,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=iA.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}ty(iA),e3(iA);const iO=new class{constructor(e){this.baseUrl=e}async getUserTemplates(e){let t=`${this.baseUrl}/templates?user=${encodeURIComponent(e)}`,n=await fetch(t);return this.processResponse(n)}async getTemplates(e,t){let n=`${this.baseUrl}/templates?${e}=1`;t&&t.length>0&&(n+=`&filter=${encodeURIComponent(t)}`);let r=await fetch(n);return this.processResponse(r)}async putTemplate(e,t,n,r){let i=`${this.baseUrl}/template`,o={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,template:t,description:n,content:r})},s=await fetch(i,o);return this.processResponse(s)}async templatePopularity(e,t,n){let r=`${this.baseUrl}/templatePopularity`,i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,template:t,amount:n})},o=await fetch(r,i);return this.processResponse(o)}async deleteTemplate(e,t){let n=`${this.baseUrl}/template`,r={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,template:t})},i=await fetch(n,r);return this.processResponse(i)}async getUserLoves(e){let t=`${this.baseUrl}/userLoves?user=${encodeURIComponent(e)}`,n=await fetch(t);return this.processResponse(n)}async putUserLove(e,t,n){let r=`${this.baseUrl}/userLove`,i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,lovedUser:t,lovedTemplate:n})},o=await fetch(r,i);return this.processResponse(o)}async deleteUserLove(e,t,n){let r=`${this.baseUrl}/userLove`,i={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,lovedUser:t,lovedTemplate:n})},o=await fetch(r,i);return this.processResponse(o)}processResponse(e){return e.ok?e.json():e.text()}}("https://api.logseqtemplates.com");let iT={},ik=[],iS=[],iL="popular",iI="",ij=null;async function iN(){console.log("Loading templates gallery..."),function(){let e;logseq.App.registerUIItem("toolbar",{key:"TemplateGallery",template:`
            <a class="button" data-on-click="openGallery">
                <img src="${(e=o("iAw7B"),function(){let e=parent?.document?.getElementById(`${logseq.baseInfo.id}_iframe`),t=e.src,n=t.lastIndexOf("/");return t.substring(0,n)}()+e.substr(e.lastIndexOf("/")))}" style="height: 20px" />
            </a>
        `}),document.addEventListener("keyup",e=>{"Escape"==e.key&&ik.length>0&&iV(ik[ik.length-1])}),document.getElementById("filter").addEventListener("keyup",e=>{e.target.value!=iI&&(iI=e.target.value,iF())}),document.getElementById("close-button").addEventListener("click",()=>{iV("main")}),document.getElementById("share-template-button").addEventListener("click",()=>{iM()?iW("share-help-overlay"):iW("template-login-overlay")}),document.getElementById("username-link").addEventListener("click",()=>{iW("template-login-overlay")}),document.getElementById("preview-overlay-close").addEventListener("click",()=>{iV("template-preview-overlay")}),document.getElementById("login-overlay-close").addEventListener("click",()=>{iV("template-login-overlay")}),document.getElementById("share-overlay-share").addEventListener("click",async e=>{e.preventDefault(),await iD()&&iV("template-share-overlay")}),document.getElementById("share-overlay-cancel").addEventListener("click",()=>{iV("template-share-overlay")}),document.getElementById("share-help-close").addEventListener("click",()=>{iV("share-help-overlay")}),document.getElementById("username-submit").addEventListener("click",()=>{let e=document.getElementById("username").value;iV("template-login-overlay"),e.length>0?(logseq.updateSettings({username:e}),iG(e)):(logseq.updateSettings({username:null}),iG(null))});let t=document.querySelectorAll('input[name="view-radio"]');for(let e of t)e.addEventListener("change",e=>{if(e.target.checked){iL=e.target.value;let t=document.getElementById("filter");"popular"===iL||"new"===iL?t.disabled=!1:t.disabled=!0,iF()}});logseq.Editor.registerBlockContextMenuItem("Share Template",async e=>{i$(e)})}()}function iM(){return logseq.settings.username}async function iD(){let e=document.getElementById("share-template-name"),t=document.getElementById("share-template-description"),n=!0;if(0===e.value.length?(e.classList.add("required"),n=!1):e.classList.remove("required"),0===t.value.length?(t.classList.add("required"),n=!1):t.classList.remove("required"),!n)return!1;try{await iO.putTemplate(iM(),e.value,t.value,JSON.stringify({blocks:iS})),logseq.UI.showMsg("Your template was shared in the Logseq Template Gallery.  Thank you for sharing!")}catch(e){console.log(e)}return!0}async function i$(e){console.log(`Sharing block ${e.uuid}`),iq(),iS=[],function e(t,n,r){n.push({level:r,content:t.content,children:[]}),t.children.forEach(t=>{e(t,n[n.length-1].children,r+1)})}(await logseq.Editor.getBlock(e.uuid,{includeChildren:!0}),iS,0);let t=JSON.stringify({blocks:iS}),n=new s,r=document.getElementById("share-overlay-content");if(r.innerHTML="",n.insertTemplateContent(r,t),document.getElementById("share-template-name").value="",document.getElementById("share-template-name").classList.remove("required"),document.getElementById("share-template-description").value="",document.getElementById("share-template-description").classList.remove("required"),iS[0].content.split("\n").forEach(e=>{let t=e.split("::");"template"===t[0]&&t.length>1&&(document.getElementById("share-template-name").value=t[1])}),!iM()){iW("template-login-overlay"),ij="template-share-overlay";return}iW("template-share-overlay")}async function iP(e,t){var n;try{n=JSON.parse(e)}catch(e){return console.log(e),!1}n=function(e,t){if(-1==e.blocks[0].content.indexOf("template::")){var n=e.blocks[0].content.split("\n");n.splice(1,0,`template:: ${t}`),e.blocks[0].content=n.join("\n")}return e}(n,t);let r=[];n.blocks.forEach(e=>{!function e(t,n){let r={content:t.content,children:[]};n.push(r),t.children.forEach(t=>{e(t,r.children)})}(e,r)});let i=await logseq.Editor.getCurrentBlock();if(!i){let e=await logseq.Editor.getCurrentPage();if(!e)return console.log("No current page to insert into!"),!1;i=await logseq.Editor.appendBlockInPage(e.uuid,"")}return await logseq.Editor.insertBatchBlock(i.uuid,r[0]),!0}async function iF(){"popular"===iL||"new"===iL?iU(iL,iI):iU("user")}function iR(){let e=document.getElementById("cards");e.replaceChildren(),e.innerHTML='<span class="text-center mb-5">Loading...</span>'}async function iU(e,t){var n,r;let i=document.getElementById("card-template"),o=document.getElementById("cards");iR();try{n="user"===e?await iO.getUserTemplates(iM()):await iO.getTemplates(e,t)}catch(i){let e,t,n;r=`Failed to load data from server<br/>${i.toString()}`,e=document.getElementById("error-template"),(t=document.getElementById("cards")).replaceChildren(),(n=e.cloneNode(!0)).id="error-message",n.classList.remove("d-none"),n.innerHTML=r,t.appendChild(n);return}o.replaceChildren();let a=0;0==n.length&&(o.innerHTML='<span class="text-center mb-5">No templates found</span>'),n.forEach(t=>{let n=new s(i,o);n.render(t,a),iB(t)&&n.setLoved(!0),n.addContentClickListener(()=>{let e=document.getElementById("template-preview-overlay");e.querySelector(".template-content").innerHTML=n.content.innerHTML,e.querySelector(".card-title").innerHTML=t.Template,iW("template-preview-overlay")}),n.addInstallClickListener(()=>{iP(t.Content,t.Template)&&(iO.templatePopularity(t.User,t.Template,1),iV("main"))}),n.addLoveClickListener(()=>{if(!iM()){iW("template-login-overlay");return}iB(t)?(n.setLoved(!1),delete iT[`${t.User}
${t.Template}`],iO.deleteUserLove(iM(),t.User,t.Template),iO.templatePopularity(t.User,t.Template,-10)):(n.setLoved(!0),iT[`${t.User}
${t.Template}`]=!0,iO.putUserLove(iM(),t.User,t.Template),iO.templatePopularity(t.User,t.Template,10))}),"user"===e?(n.showDelete(),n.addDeleteClickListener(async()=>{await iO.deleteTemplate(t.User,t.Template),setTimeout(iF,250)})):n.hideDelete(),a++})}async function iz(e){e?(await iO.getUserLoves(e)).forEach(e=>{iT[e.LovedTemplate]=!0}):iT={}}function iB(e){return`${e.User}
${e.Template}` in iT}async function iH(){let e=await logseq.DB.datascriptQuery(`
    [:find (pull ?b [*])
      :where
      [?b :block/page ?p]
      [?b :block/properties ?prop]
      [(get ?prop :template)]
    ]`);if(!e)return console.log("No templates found"),[];for(var t=0;t<e.length;t++){let n=e[t][0];n.properties.template;let r=n.uuid;await logseq.Editor.getBlock(r,{includeChildren:!0})}return e}function iq(){logseq.showMainUI();let e=document.getElementById("app");e.classList.remove("hidden"),e.classList.add("visible")}function iW(e){document.getElementById(e).classList.remove("d-none"),ik.push(e)}function iV(e){var t,n,r=ik[ik.length-1];r!=e?console.log(`Invalid stack: popping ${e} but top is ${r}`):ik.pop();var i=document.getElementById(e);0!==ik.length||ij?i.classList.add("d-none"):(t=()=>{i.classList.add("d-none")},(n=document.getElementById("app")).classList.remove("visible"),n.classList.add("hidden"),setTimeout(()=>{logseq.hideMainUI({restoreEditingCursor:!0}),ik=[],t()},250)),ij&&(iW(ij),ij=null)}function iG(e){document.getElementById("username").value=e||"",e?(document.getElementById("username-link").innerText=e,document.getElementById("username-welcome").classList.remove("d-none")):document.getElementById("username-welcome").classList.add("d-none")}window.onload=function(){},logseq.ready({async openGallery(){iR(),iq(),iG(iM()),await iH(),iW("main"),setTimeout(async()=>{try{await iz(iM())}catch(e){console.log(e)}await iF()},1)}}).then(iN).catch(console.error);